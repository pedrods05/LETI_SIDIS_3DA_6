@startuml
title US07 - SSD - Schedule an Appointment as a Patient
actor "Authenticated Patient"
participant "System"

"Authenticated Patient" -> "System" : POST /api/patients/appointments

alt physician not found
  "System" --> "Authenticated Patient" : 404 Not Found
else
  alt invalid time or not aligned to 20-minute slot
    "System" --> "Authenticated Patient" : 400 Bad Request\n"Invalid date/time"
  else
    alt physician already has an appointment at that time
      "System" --> "Authenticated Patient" : 409 Conflict\n"Slot unavailable"
    else
      "System" --> "Authenticated Patient" : 201 Created\nBody: { appointmentId, status }
    end
  end
end
@enduml

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="735px" preserveAspectRatio="none" style="width:1046px;height:735px;background:#FFFFFF;" version="1.1" viewBox="0 0 1046 735" width="1046px" zoomAndPan="magnify"><title>US07 - SD - Register a Patient</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="197.6133" x="425.24" y="30.1074">US07 - SD - Register a Patient</text><rect fill="#FFFFFF" height="143.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="81.6895" y="133.2422"/><rect fill="#FFFFFF" height="120.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="277.9893" y="156.5332"/><rect fill="#FFFFFF" height="57.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="586.0947" y="187.8242"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.6392" y="309.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.6392" y="526.0254"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="933.9419" y="463.4434"/><rect fill="none" height="432.0742" style="stroke:#000000;stroke-width:1.5;" width="1029.0933" x="10" y="202.8242"/><rect fill="none" height="271.6191" style="stroke:#000000;stroke-width:1.5;" width="1009.0933" x="20" y="356.2793"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="86" x2="86" y1="123.2422" y2="651.8984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="282.1724" x2="282.1724" y1="123.2422" y2="651.8984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="590.8984" x2="590.8984" y1="123.2422" y2="651.8984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="768.4878" x2="768.4878" y1="123.2422" y2="651.8984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="938.7905" x2="938.7905" y1="123.2422" y2="651.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3789" x="30" y="119.7285">Anonymous User</text><ellipse cx="86.6895" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M86.6895,61.1211 L86.6895,88.1211 M73.6895,69.1211 L99.6895,69.1211 M86.6895,88.1211 L73.6895,103.1211 M86.6895,88.1211 L99.6895,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3789" x="30" y="666.0059">Anonymous User</text><ellipse cx="86.6895" cy="678.0195" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M86.6895,686.0195 L86.6895,713.0195 M73.6895,694.0195 L99.6895,694.0195 M86.6895,713.0195 L73.6895,728.0195 M86.6895,713.0195 L99.6895,728.0195 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183.6338" x="191.1724" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.6338" x="198.1724" y="111.7285">:controller:PatientController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183.6338" x="191.1724" y="650.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.6338" x="198.1724" y="673.0059">:controller:PatientController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.3926" x="512.8984" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3926" x="519.8984" y="111.7285">:service:PatientService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.3926" x="512.8984" y="650.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3926" x="519.8984" y="673.0059">:service:PatientService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3027" x="688.4878" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3027" x="695.4878" y="111.7285">:repo:PatientRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3027" x="688.4878" y="650.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3027" x="695.4878" y="673.0059">:repo:PatientRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3027" x="858.7905" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3027" x="865.7905" y="111.7285">:mapper:PatientMapper</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.3027" x="858.7905" y="650.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3027" x="865.7905" y="673.0059">:mapper:PatientMapper</text><rect fill="#FFFFFF" height="143.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="81.6895" y="133.2422"/><rect fill="#FFFFFF" height="120.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="277.9893" y="156.5332"/><rect fill="#FFFFFF" height="57.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="586.0947" y="187.8242"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.6392" y="309.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="763.6392" y="526.0254"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="933.9419" y="463.4434"/><polygon fill="#181818" points="265.9893,152.5332,275.9893,156.5332,265.9893,160.5332,269.9893,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.6895" x2="271.9893" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="98.6895" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.0698" x="109.9194" y="151.2705">POST /api/patients/register</text><polygon fill="#181818" points="574.0947,183.8242,584.0947,187.8242,574.0947,191.8242,578.0947,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.9893" x2="580.0947" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="294.9893" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.5508" x="306.2192" y="182.5615">registerPatient(dto)</text><path d="M10,202.8242 L70.1709,202.8242 L70.1709,212.1152 L60.1709,222.1152 L10,222.1152 L10,202.8242 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="432.0742" style="stroke:#000000;stroke-width:1.5;" width="1029.0933" x="10" y="202.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="217.8525">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.543" x="85.1709" y="216.6943">[dataConsentGiven == false]</text><polygon fill="#181818" points="298.9893,241.4063,288.9893,245.4063,298.9893,249.4063,294.9893,245.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.9893" x2="590.0947" y1="245.4063" y2="245.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="304.9893" y="240.1436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.8755" x="316.2192" y="240.1436">400 Bad Request ("Data consent is required")</text><polygon fill="#181818" points="97.6895,272.6973,87.6895,276.6973,97.6895,280.6973,93.6895,276.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91.6895" x2="281.9893" y1="276.6973" y2="276.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="103.6895" y="271.4346">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4644" x="114.9194" y="271.4346">400 Bad Request</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1039.0933" y1="285.6973" y2="285.6973"/><polygon fill="#181818" points="751.6392,305.9883,761.6392,309.9883,751.6392,313.9883,755.6392,309.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591.0947" x2="757.6392" y1="309.9883" y2="309.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="598.0947" y="304.7256">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.3145" x="609.3247" y="304.7256">existsByEmail(dto.email)</text><polygon fill="#181818" points="602.0947,337.2793,592.0947,341.2793,602.0947,345.2793,598.0947,341.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596.0947" x2="767.6392" y1="341.2793" y2="341.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="608.0947" y="336.0166">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.7153" x="619.3247" y="336.0166">Boolean (emailExists)</text><path d="M20,356.2793 L80.1709,356.2793 L80.1709,365.5703 L70.1709,375.5703 L20,375.5703 L20,356.2793 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="271.6191" style="stroke:#000000;stroke-width:1.5;" width="1009.0933" x="20" y="356.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="35" y="371.3076">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111.2837" x="95.1709" y="370.1494">[email already exists]</text><polygon fill="#181818" points="293.9893,394.8613,283.9893,398.8613,293.9893,402.8613,289.9893,398.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.9893" x2="590.0947" y1="398.8613" y2="398.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="299.9893" y="393.5986">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.2065" x="311.2192" y="393.5986">409 Conflict ("Email already in use")</text><polygon fill="#181818" points="97.6895,426.1523,87.6895,430.1523,97.6895,434.1523,93.6895,430.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91.6895" x2="281.9893" y1="430.1523" y2="430.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="103.6895" y="424.8896">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.6499" x="114.9194" y="424.8896">409 Conflict</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1029.0933" y1="439.1523" y2="439.1523"/><polygon fill="#181818" points="921.9419,459.4434,931.9419,463.4434,921.9419,467.4434,925.9419,463.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591.0947" x2="927.9419" y1="463.4434" y2="463.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="598.0947" y="458.1807">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3672" x="609.3247" y="458.1807">toDomain(dto)</text><polygon fill="#181818" points="602.0947,490.7344,592.0947,494.7344,602.0947,498.7344,598.0947,494.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596.0947" x2="937.9419" y1="494.7344" y2="494.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="608.0947" y="489.4717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4727" x="626.5547" y="489.4717">Patient</text><polygon fill="#181818" points="751.6392,522.0254,761.6392,526.0254,751.6392,530.0254,755.6392,526.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="591.0947" x2="757.6392" y1="526.0254" y2="526.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="598.0947" y="520.7627">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.5908" x="616.5547" y="520.7627">save(Patient)</text><polygon fill="#181818" points="602.0947,553.3164,592.0947,557.3164,602.0947,561.3164,598.0947,557.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596.0947" x2="767.6392" y1="557.3164" y2="557.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="608.0947" y="552.0537">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4727" x="626.5547" y="552.0537">Patient (with ID)</text><polygon fill="#181818" points="293.9893,584.6074,283.9893,588.6074,293.9893,592.6074,289.9893,588.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="287.9893" x2="590.0947" y1="588.6074" y2="588.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="299.9893" y="583.3447">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8525" x="318.4492" y="583.3447">PatientIdResponse</text><polygon fill="#181818" points="97.6895,615.8984,87.6895,619.8984,97.6895,623.8984,93.6895,619.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91.6895" x2="281.9893" y1="619.8984" y2="619.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="103.6895" y="614.6357">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.5508" x="122.1494" y="614.6357">201 Created</text><!--SRC=[bPJ1RXen48RlVehHNheSA2IgL1M9I2MWA8Ug4JIzJzUJn9AnDxQNbkVfeG_GH-35Ehjhkiik8U40id_x_sVysH1Kq0Jtg_576C9gpbzBUbG-a0E4EmoAJ11O18jPK1iC1DPKSrEiVv0JWdNh8FbihDckRU7XtfDBH8ukg4pbQ08aayoQuApMv2Ony_g_aW1wwAcT0CxSg8psxbKzRLkZrF4voktUjEInLzpjjkrhr8vrZNdUzFkbchMDjL81gC7q68Yk0iEh_abX0dTVLzzWXBaQvVMg7xbu2qAyW-bq2jzHAucxFxlV5WZqxk-ZoX2CXKYct2H4Fxof605nkNrsN4Xbi0C-XmuWCI2RFQitQaE6K-41jIS1tPZX2sVvC1x332K_e-U2V80qcNCeP7KgAC_bdmlbI2Q39hNTCGVtmFLosIhfPVHqlEUh_grpDFrY77wsNQnHwPB6Uof7hVPQsuV7YCwirOG6qigugF8OAK09jT9uv0ZbDXRZfJE8VW8M7hJAIfoBWpXbeF1KeJmBPXDPEK-n18WqJ_2iVmoS7EpSSeEcVbGjJznn5D_-V-PqZOCxyxYXD2uSr7djgg80wKyLdk1sFX3dt4NKRkMIV5u-wVEuNuulu9elBf1y2tOZ1N_-0G00]--></g></svg>
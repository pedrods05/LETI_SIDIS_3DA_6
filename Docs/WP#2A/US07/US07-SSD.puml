@startuml
title US07 - SSD - Register a Patient
actor "Anonymous User"
participant "System"

"Anonymous User" -> "System" : POST /api/patients/register\nBody: PatientDTO

alt dataConsentGiven == false
  "System" --> "Anonymous User" : 400 Bad Request\n"Data consent is required"
else
  alt email already exists
    "System" --> "Anonymous User" : 409 Conflict\n"Email already in use"
  else
    "System" --> "Anonymous User" : 201 Created\nBody: { patientId, message }
  end
end
@enduml

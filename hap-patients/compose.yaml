services:

    # 1. O Broker de Mensagens (Essencial para enviar eventos)
    rabbitmq:
      image: rabbitmq:3.12-management
      container_name: hap-rabbitmq-patients
      ports:
        - "5672:5672"   # Porta AMQP (Java)
        - "15672:15672" # Porta Dashboard Web
      environment:
        RABBITMQ_DEFAULT_USER: guest
        RABBITMQ_DEFAULT_PASS: guest

    # 2. A Base de Dados de Leitura (Essencial para o CQRS/Query)
    mongodb:
      image: mongo:6.0
      container_name: hap-mongopatients
      ports:
        - "27017:27017" # Porta MongoDB
      environment:
        MONGO_INITDB_ROOT_USERNAME: root
        MONGO_INITDB_ROOT_PASSWORD: secretpassword
      volumes:
        - mongo_data:/data/db

  # Volume para n√£o perder os dados do Mongo se reiniciares o PC
volumes:
    mongo_data:


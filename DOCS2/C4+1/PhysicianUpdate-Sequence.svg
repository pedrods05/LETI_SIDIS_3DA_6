<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1270px" preserveAspectRatio="none" style="width:1717px;height:1270px;background:#FFFFFF;" version="1.1" viewBox="0 0 1717 1270" width="1717px" zoomAndPan="magnify"><title>Physician Update - Sequence Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="255.1924" x="730.3906" y="30.1074">Physician Update - Sequence Diagram</text><g><title>Client</title><rect fill="#FFFFFF" height="1045.2344" style="stroke:#181818;stroke-width:1;" width="10" x="20.8965" y="133.2422"/></g><g><title>PhysicianController</title><rect fill="#FFFFFF" height="512.6563" style="stroke:#181818;stroke-width:1;" width="10" x="232.3799" y="173.8242"/></g><g><title>PhysicianCommandService</title><rect fill="#FFFFFF" height="432.7832" style="stroke:#181818;stroke-width:1;" width="10" x="492.2896" y="205.1152"/></g><g><title>PhysicianService</title><rect fill="#FFFFFF" height="200.7461" style="stroke:#181818;stroke-width:1;" width="10" x="797.6719" y="236.4063"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="267.6973"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="374.5703"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="468.4434"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="197.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1186.5679" y="575.3164"/></g><g><title>PhysicianEventHandler</title><rect fill="#FFFFFF" height="300.959" style="stroke:#181818;stroke-width:1;" width="10" x="1372.0576" y="772.3535"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1617.4946" y="803.6445"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1617.4946" y="1004.7305"/></g><rect fill="none" height="124.5039" style="stroke:#000000;stroke-width:1.5;" width="288.501" x="1287.6855" y="849.9355"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="21.8965" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="25" x2="25" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianController</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="233.3799" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="237.0767" x2="237.0767" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianCommandService</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="493.2896" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="496.7002" x2="496.7002" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianService</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="798.6719" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="802.3721" x2="802.3721" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="1068.6406" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1072.2236" x2="1072.2236" y1="123.2422" y2="1187.4766"/></g><g><title>RabbitMQ</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="1187.5679" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1191.0576" x2="1191.0576" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianEventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="1373.0576" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1376.6855" x2="1376.6855" y1="123.2422" y2="1187.4766"/></g><g><title>PhysicianQueryRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1064.2344" width="8" x="1618.4946" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1622.0156" x2="1622.0156" y1="123.2422" y2="1187.4766"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="119.7285">Client</text><ellipse cx="25.8965" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M25.8965,61.1211 L25.8965,88.1211 M12.8965,69.1211 L38.8965,69.1211 M25.8965,88.1211 L12.8965,103.1211 M25.8965,88.1211 L38.8965,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="1201.584">Client</text><ellipse cx="25.8965" cy="1213.5977" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M25.8965,1221.5977 L25.8965,1248.5977 M12.8965,1229.5977 L38.8965,1229.5977 M25.8965,1248.5977 L12.8965,1263.5977 M25.8965,1248.5977 L38.8965,1263.5977" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.6064" x="170.0767" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6064" x="177.0767" y="111.7285">PhysicianController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.6064" x="170.0767" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6064" x="177.0767" y="1208.584">PhysicianController</text></g><g class="participant participant-head" data-participant="CommandService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.1787" x="404.7002" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1787" x="411.7002" y="111.7285">PhysicianCommandService</text></g><g class="participant participant-tail" data-participant="CommandService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.1787" x="404.7002" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1787" x="411.7002" y="1208.584">PhysicianCommandService</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="742.3721" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="749.3721" y="111.7285">PhysicianService</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="742.3721" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="749.3721" y="1208.584">PhysicianService</text></g><g class="participant participant-head" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1002.2236" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1009.2236" y="93.1074">PhysicianRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="1015.4683" y="111.7285">(Write Model - H2)</text></g><g class="participant participant-tail" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1002.2236" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1009.2236" y="1208.584">PhysicianRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="1015.4683" y="1227.2051">(Write Model - H2)</text></g><g class="participant participant-head" data-participant="RabbitMQ"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.0205" x="1153.0576" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="1160.0576" y="93.1074">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2686" x="1160.4336" y="111.7285">Exchange</text></g><g class="participant participant-tail" data-participant="RabbitMQ"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.0205" x="1153.0576" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="1160.0576" y="1208.584">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2686" x="1160.4336" y="1227.2051">Exchange</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7441" x="1297.6855" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7441" x="1304.6855" y="111.7285">PhysicianEventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7441" x="1297.6855" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7441" x="1304.6855" y="1208.584">PhysicianEventHandler</text></g><g class="participant participant-head" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.958" x="1533.0156" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.958" x="1540.0156" y="93.1074">PhysicianQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="1542.7397" y="111.7285">(Read Model - MongoDB)</text></g><g class="participant participant-tail" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.958" x="1533.0156" y="1186.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.958" x="1540.0156" y="1208.584">PhysicianQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="1542.7397" y="1227.2051">(Read Model - MongoDB)</text></g><g><title>Client</title><rect fill="#FFFFFF" height="1045.2344" style="stroke:#181818;stroke-width:1;" width="10" x="20.8965" y="133.2422"/></g><g><title>PhysicianController</title><rect fill="#FFFFFF" height="512.6563" style="stroke:#181818;stroke-width:1;" width="10" x="232.3799" y="173.8242"/></g><g><title>PhysicianCommandService</title><rect fill="#FFFFFF" height="432.7832" style="stroke:#181818;stroke-width:1;" width="10" x="492.2896" y="205.1152"/></g><g><title>PhysicianService</title><rect fill="#FFFFFF" height="200.7461" style="stroke:#181818;stroke-width:1;" width="10" x="797.6719" y="236.4063"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="267.6973"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="374.5703"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1067.6406" y="468.4434"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="197.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1186.5679" y="575.3164"/></g><g><title>PhysicianEventHandler</title><rect fill="#FFFFFF" height="300.959" style="stroke:#181818;stroke-width:1;" width="10" x="1372.0576" y="772.3535"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1617.4946" y="803.6445"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1617.4946" y="1004.7305"/></g><g class="message" data-participant-1="Client" data-participant-2="Controller"><polygon fill="#181818" points="220.3799,169.8242,230.3799,173.8242,220.3799,177.8242,224.3799,173.8242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="30.8965" x2="226.3799" y1="173.8242" y2="173.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="40.3965" y="159.916">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.2534" x="51.6265" y="151.2705">PUT /physicians/{physicianId}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.6353" x="59.9355" y="168.5615">(UpdatePhysicianRequest)</text></g><g class="message" data-participant-1="Controller" data-participant-2="CommandService"><polygon fill="#181818" points="480.2896,201.1152,490.2896,205.1152,480.2896,209.1152,484.2896,205.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="242.3799" x2="486.2896" y1="205.1152" y2="205.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="251.8799" y="199.8525">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6797" x="263.1099" y="199.8525">updatePhysician(physicianId, request)</text></g><g class="message" data-participant-1="CommandService" data-participant-2="Service"><polygon fill="#181818" points="785.6719,232.4063,795.6719,236.4063,785.6719,240.4063,789.6719,236.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="502.2896" x2="791.6719" y1="236.4063" y2="236.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="543.5618" y="231.1436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.6079" x="554.7917" y="231.1436">partialUpdate(physicianId, request)</text></g><g class="message" data-participant-1="Service" data-participant-2="WriteRepo"><polygon fill="#181818" points="1055.6406,263.6973,1065.6406,267.6973,1055.6406,271.6973,1059.6406,267.6973" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="807.6719" x2="1061.6406" y1="267.6973" y2="267.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="871.7068" y="262.4346">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="882.9368" y="262.4346">findById(physicianId)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="Service"><polygon fill="#181818" points="818.6719,294.9883,808.6719,298.9883,818.6719,302.9883,814.6719,298.9883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="812.6719" x2="1071.6406" y1="298.9883" y2="298.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="874.9209" y="293.7256">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2407" x="886.1509" y="293.7256">Optional&lt;Physician&gt;</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:2;" x1="807.6719" x2="849.6719" y1="330.2793" y2="330.2793"/><line style="stroke:#181818;stroke-width:2;" x1="849.6719" x2="849.6719" y1="330.2793" y2="343.2793"/><line style="stroke:#181818;stroke-width:2;" x1="808.6719" x2="849.6719" y1="343.2793" y2="343.2793"/><polygon fill="#181818" points="818.6719,339.2793,808.6719,343.2793,818.6719,347.2793,814.6719,343.2793" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="814.6719" y="325.0166">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.7388" x="825.9019" y="325.0166">Update physician fields (partial update)</text></g><g class="message" data-participant-1="Service" data-participant-2="WriteRepo"><polygon fill="#181818" points="1055.6406,370.5703,1065.6406,374.5703,1055.6406,378.5703,1059.6406,374.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="807.6719" x2="1061.6406" y1="374.5703" y2="374.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="886.884" y="369.3076">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3145" x="898.114" y="369.3076">save(physician)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="Service"><polygon fill="#181818" points="818.6719,401.8613,808.6719,405.8613,818.6719,409.8613,814.6719,405.8613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="812.6719" x2="1071.6406" y1="405.8613" y2="405.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="877.0918" y="400.5986">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8989" x="888.3218" y="400.5986">Physician (updated)</text></g><g class="message" data-participant-1="Service" data-participant-2="CommandService"><polygon fill="#181818" points="513.2896,433.1523,503.2896,437.1523,513.2896,441.1523,509.2896,437.1523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="507.2896" x2="801.6719" y1="437.1523" y2="437.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="594.853" y="431.8896">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0254" x="606.083" y="431.8896">PhysicianFullDTO</text></g><g class="message" data-participant-1="CommandService" data-participant-2="WriteRepo"><polygon fill="#181818" points="1055.6406,464.4434,1065.6406,468.4434,1055.6406,472.4434,1059.6406,468.4434" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="502.2896" x2="1061.6406" y1="468.4434" y2="468.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="715.4006" y="463.1807">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="733.8606" y="463.1807">findById(physicianId)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="CommandService"><polygon fill="#181818" points="513.2896,495.7344,503.2896,499.7344,513.2896,503.7344,509.2896,499.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="507.2896" x2="1071.6406" y1="499.7344" y2="499.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="750.4165" y="494.4717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6372" x="768.8765" y="494.4717">Physician</text></g><g class="message" data-participant-1="CommandService" data-participant-2="CommandService"><line style="stroke:#181818;stroke-width:2;" x1="502.2896" x2="544.2896" y1="531.0254" y2="531.0254"/><line style="stroke:#181818;stroke-width:2;" x1="544.2896" x2="544.2896" y1="531.0254" y2="544.0254"/><line style="stroke:#181818;stroke-width:2;" x1="503.2896" x2="544.2896" y1="544.0254" y2="544.0254"/><polygon fill="#181818" points="513.2896,540.0254,503.2896,544.0254,513.2896,548.0254,509.2896,544.0254" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="509.2896" y="525.7627">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.9224" x="527.7495" y="525.7627">publishPhysicianUpdatedEvent(physicianId)</text></g><g class="message" data-participant-1="CommandService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="1174.5679,571.3164,1184.5679,575.3164,1174.5679,579.3164,1178.5679,575.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="502.2896" x2="1180.5679" y1="575.3164" y2="575.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="706.281" y="570.0537">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.8354" x="724.741" y="570.0537">convertAndSend("physician.updated", event)</text></g><g class="message" data-participant-1="RabbitMQ" data-participant-2="CommandService"><polygon fill="#181818" points="513.2896,602.6074,503.2896,606.6074,513.2896,610.6074,509.2896,606.6074" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="507.2896" x2="1185.5679" y1="606.6074" y2="606.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="788.9434" y="601.3447">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5107" x="807.4033" y="601.3447">Event published</text></g><g class="message" data-participant-1="CommandService" data-participant-2="Controller"><polygon fill="#181818" points="253.3799,633.8984,243.3799,637.8984,253.3799,641.8984,249.3799,637.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="247.3799" x2="496.2896" y1="637.8984" y2="637.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="308.592" y="632.6357">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0254" x="327.052" y="632.6357">PhysicianFullDTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="41.8965,682.4805,31.8965,686.4805,41.8965,690.4805,37.8965,686.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="35.8965" x2="236.3799" y1="686.4805" y2="686.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="72.8955" y="672.5723">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="121.3259" y="663.9268">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0254" x="91.3555" y="681.2178">PhysicianFullDTO</text></g><path d="M1201,699.4805 L1201,743.4805 L1396,743.4805 L1396,709.4805 L1386,699.4805 L1201,699.4805" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1386,699.4805 L1386,709.4805 L1396,709.4805 L1386,699.4805" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4707" x="1207" y="718.5088">Asynchronous processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1543" x="1207" y="735.7998">Event is consumed by handler</text><g class="message" data-participant-1="RabbitMQ" data-participant-2="EventHandler"><polygon fill="#181818" points="1360.0576,768.3535,1370.0576,772.3535,1360.0576,776.3535,1364.0576,772.3535" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1191.5679" x2="1366.0576" y1="772.3535" y2="772.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1203.5679" y="767.0908">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0298" x="1222.0278" y="767.0908">PhysicianUpdatedEvent</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ReadRepo"><polygon fill="#181818" points="1605.4946,799.6445,1615.4946,803.6445,1605.4946,807.6445,1609.4946,803.6445" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1382.0576" x2="1611.4946" y1="803.6445" y2="803.6445"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1430.2117" y="798.3818">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="1448.6716" y="798.3818">findById(physicianId)</text></g><g class="message" data-participant-1="ReadRepo" data-participant-2="EventHandler"><polygon fill="#181818" points="1393.0576,830.9355,1383.0576,834.9355,1393.0576,838.9355,1389.0576,834.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="1387.0576" x2="1621.4946" y1="834.9355" y2="834.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1405.6167" y="829.6729">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.8589" x="1424.0767" y="829.6729">Optional&lt;PhysicianSummary&gt;</text></g><path d="M1287.6855,849.9355 L1347.8564,849.9355 L1347.8564,859.2266 L1337.8564,869.2266 L1287.6855,869.2266 L1287.6855,849.9355" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="124.5039" style="stroke:#000000;stroke-width:1.5;" width="288.501" x="1287.6855" y="849.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="1302.6855" y="864.9639">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143.0645" x="1362.8564" y="863.8057">[PhysicianSummary exists]</text><g class="message" data-participant-1="EventHandler" data-participant-2="EventHandler"><line style="stroke:#181818;stroke-width:2;" x1="1382.0576" x2="1424.0576" y1="892.5176" y2="892.5176"/><line style="stroke:#181818;stroke-width:2;" x1="1424.0576" x2="1424.0576" y1="892.5176" y2="905.5176"/><line style="stroke:#181818;stroke-width:2;" x1="1383.0576" x2="1424.0576" y1="905.5176" y2="905.5176"/><polygon fill="#181818" points="1393.0576,901.5176,1383.0576,905.5176,1393.0576,909.5176,1389.0576,905.5176" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1389.0576" y="887.2549">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.6689" x="1407.5176" y="887.2549">Update existing summary</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1287.6855" x2="1576.1865" y1="914.5176" y2="914.5176"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178.6748" x="1292.6855" y="926.3877">[PhysicianSummary doesn't exist]</text><g class="message" data-participant-1="EventHandler" data-participant-2="EventHandler"><line style="stroke:#181818;stroke-width:2;" x1="1382.0576" x2="1424.0576" y1="953.4395" y2="953.4395"/><line style="stroke:#181818;stroke-width:2;" x1="1424.0576" x2="1424.0576" y1="953.4395" y2="966.4395"/><line style="stroke:#181818;stroke-width:2;" x1="1383.0576" x2="1424.0576" y1="966.4395" y2="966.4395"/><polygon fill="#181818" points="1393.0576,962.4395,1383.0576,966.4395,1393.0576,970.4395,1389.0576,966.4395" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1389.0576" y="948.1768">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5381" x="1407.5176" y="948.1768">Create new summary</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ReadRepo"><polygon fill="#181818" points="1605.4946,1000.7305,1615.4946,1004.7305,1605.4946,1008.7305,1609.4946,1004.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1382.0576" x2="1611.4946" y1="1004.7305" y2="1004.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1391.5576" y="999.4678">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9771" x="1410.0176" y="999.4678">save(updated PhysicianSummary)</text></g><g class="message" data-participant-1="ReadRepo" data-participant-2="EventHandler"><polygon fill="#181818" points="1393.0576,1032.0215,1383.0576,1036.0215,1393.0576,1040.0215,1389.0576,1036.0215" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="1387.0576" x2="1621.4946" y1="1036.0215" y2="1036.0215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1474.6157" y="1030.7588">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8608" x="1493.0757" y="1030.7588">Saved</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="EventHandler"><line style="stroke:#181818;stroke-width:2;" x1="1382.0576" x2="1424.0576" y1="1072.3125" y2="1072.3125"/><line style="stroke:#181818;stroke-width:2;" x1="1424.0576" x2="1424.0576" y1="1072.3125" y2="1085.3125"/><line style="stroke:#181818;stroke-width:2;" x1="1377.0576" x2="1424.0576" y1="1085.3125" y2="1085.3125"/><polygon fill="#181818" points="1387.0576,1081.3125,1377.0576,1085.3125,1387.0576,1089.3125,1383.0576,1085.3125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1389.0576" y="1067.0498">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.9897" x="1407.5176" y="1067.0498">Update MongoDB read model</text></g><path d="M242,1093.3125 L242,1172.3125 L567,1172.3125 L567,1103.3125 L557,1093.3125 L242,1093.3125" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M557,1093.3125 L557,1103.3125 L567,1103.3125 L557,1093.3125" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.2305" x="248" y="1112.3408">Este diagrama mostra a atualiza&#231;&#227;o de dados de um</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.2451" x="248" y="1129.6318">m&#233;dico. A atualiza&#231;&#227;o &#233; feita no write model (H2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.2368" x="248" y="1146.9229">e um evento &#233; publicado no RabbitMQ para atualizar</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.686" x="248" y="1164.2139">o read model (MongoDB) de forma ass&#237;ncrona.</text><!--SRC=[fLPBRjim4Dth50DtKGV83raQHG37IP2WCF97DzdG8cqJeKYLf9ouHK_JHP55J-6BTKX95ELV4ZHUXA9cthnvmndAF76P4qqo697qQQ9L8Ub02QNXqxd_IqomCEnxmMJAXimOCc5zmISIKYOjqski-bghv_ifJvyasiDHabXk1OFhwTpmb1C93pabbi4Ut5KkSCh9136IXAGMAGm4H_G4SIrwv4HQw0JtWP9MAo6OxW0nq3nkjCyo8kaTqpEUiiedtjhW5pjijxnbkJ8SYSyVPVURvfZRK54cCCEBenqFu7UTNHlYben6t0vl7kNPIpebSbA6gxStn3kReJeNc42jGRonmUUcO7hU8dhB20qyXqfErEb9ITQzyLmJKbWbYso4i5WPFdDbgufJ_eEzuwW2FRX-k8U3l0vg3dw6zINzXK7BqaVAuG4mTYT2RygPDEioJ5oq7XHjg6uKQHVq6k1MpPFsimiGaBs2H9HSty8DW15Ig7OFnbpIa_abZM4Yx-PSX1NinLokSikL9E9BIFGueMoDVx8kawhJGcoammGrqArIh4JSsK3Ua5cK_qTeDytUBKDWqc_GNbFYW79U275wVnL3R2da_yk_aSY695OvB2FanKXmCmr0PMMexzmskLMiUXpq85LonhJjkzUITZl1SRzIkRCBp456EOPXKY_MPkY9r2mPNKrfkT6tb6QrrPe-TZ1-SlJWwF0Ghhu-okrGpJYG2ZSqdqmjg76J5a3Vp6KwrKggma2kLOht3fUJ7hugq-B6AMUAZ54OpM5QJKgK41ne4abpt1gcKPvnmMA6WKVOQKtZ97xonQo6wvjdCqpXUk75QxDRdGvt1MglvwqX4SrpOM7P5DWBDzQWM03BPDlHgcdYxL5VC2L0meHXgx1KCIC_szBy7UW3pHowPCyDiAJR1FJZgJhuA_4_gEGTOj6rehrBa-h-nFi1BzNCNQenLlj4jCznTC9H8OElQFanH137M4q0VxOWWlyWYp-BtmeecX2gZ5iK6NfbYrVAKxKF_INBnIkC6RS4Jpay- -yIJmsw-5c2Viwz71VUr3T_YiZEF7I4-xWBi8wZYfA4RltXuCYCbKRMn9Z5NvbYEvBzfiN-0G00]--></g></svg>
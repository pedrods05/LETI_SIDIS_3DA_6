<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1219px" preserveAspectRatio="none" style="width:1903px;height:1219px;background:#FFFFFF;" version="1.1" viewBox="0 0 1903 1219" width="1903px" zoomAndPan="magnify"><title>Register Physician - Sequence Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="263.7646" x="819.0073" y="30.1074">Register Physician - Sequence Diagram</text><g><title>Client</title><rect fill="#FFFFFF" height="641.8203" style="stroke:#181818;stroke-width:1;" width="10" x="20.8965" y="133.2422"/></g><g><title>PhysicianController</title><rect fill="#FFFFFF" height="601.2383" style="stroke:#181818;stroke-width:1;" width="10" x="222.249" y="173.8242"/></g><g><title>PhysicianCommandService</title><rect fill="#FFFFFF" height="521.3652" style="stroke:#181818;stroke-width:1;" width="10" x="413.4834" y="205.1152"/></g><g><title>PhysicianService</title><rect fill="#FFFFFF" height="289.3281" style="stroke:#181818;stroke-width:1;" width="10" x="732.583" y="236.4063"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1059.4604" y="356.2793"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1213.7944" y="463.1523"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1213.7944" y="557.0254"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="197.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1332.7217" y="663.8984"/></g><g><title>PhysicianEventHandler</title><rect fill="#FFFFFF" height="144.1641" style="stroke:#181818;stroke-width:1;" width="10" x="1531.9287" y="860.9355"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1803.3003" y="936.5176"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="21.8965" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="25" x2="25" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianController</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="223.249" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="226.9458" x2="226.9458" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianCommandService</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="414.4834" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="417.894" x2="417.894" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianService</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="733.583" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="737.2832" x2="737.2832" y1="123.2422" y2="1136.5547"/></g><g><title>ExternalServiceClient</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="1060.4604" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1063.5435" x2="1063.5435" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="1214.7944" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1218.3774" x2="1218.3774" y1="123.2422" y2="1136.5547"/></g><g><title>RabbitMQ</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="1333.7217" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1337.2114" x2="1337.2114" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianEventHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="1532.9287" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1536.5566" x2="1536.5566" y1="123.2422" y2="1136.5547"/></g><g><title>PhysicianQueryRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1013.3125" width="8" x="1804.3003" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1807.8213" x2="1807.8213" y1="123.2422" y2="1136.5547"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="119.7285">Client</text><ellipse cx="25.8965" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M25.8965,61.1211 L25.8965,88.1211 M12.8965,69.1211 L38.8965,69.1211 M25.8965,88.1211 L12.8965,103.1211 M25.8965,88.1211 L38.8965,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="1150.6621">Client</text><ellipse cx="25.8965" cy="1162.6758" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M25.8965,1170.6758 L25.8965,1197.6758 M12.8965,1178.6758 L38.8965,1178.6758 M25.8965,1197.6758 L12.8965,1212.6758 M25.8965,1197.6758 L38.8965,1212.6758" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.6064" x="159.9458" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6064" x="166.9458" y="111.7285">PhysicianController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.6064" x="159.9458" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6064" x="166.9458" y="1157.6621">PhysicianController</text></g><g class="participant participant-head" data-participant="CommandService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.1787" x="325.894" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1787" x="332.894" y="111.7285">PhysicianCommandService</text></g><g class="participant participant-tail" data-participant="CommandService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.1787" x="325.894" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1787" x="332.894" y="1157.6621">PhysicianCommandService</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="677.2832" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="684.2832" y="111.7285">PhysicianService</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="677.2832" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="684.2832" y="1157.6621">PhysicianService</text></g><g class="participant participant-head" data-participant="ExternalClient"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.834" x="990.5435" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="997.5435" y="111.7285">ExternalServiceClient</text></g><g class="participant participant-tail" data-participant="ExternalClient"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.834" x="990.5435" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="997.5435" y="1157.6621">ExternalServiceClient</text></g><g class="participant participant-head" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1148.3774" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1155.3774" y="93.1074">PhysicianRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="1161.6221" y="111.7285">(Write Model - H2)</text></g><g class="participant participant-tail" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1148.3774" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1155.3774" y="1157.6621">PhysicianRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="1161.6221" y="1176.2832">(Write Model - H2)</text></g><g class="participant participant-head" data-participant="RabbitMQ"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.0205" x="1299.2114" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="1306.2114" y="93.1074">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2686" x="1306.5874" y="111.7285">Exchange</text></g><g class="participant participant-tail" data-participant="RabbitMQ"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.0205" x="1299.2114" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="1306.2114" y="1157.6621">RabbitMQ</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2686" x="1306.5874" y="1176.2832">Exchange</text></g><g class="participant participant-head" data-participant="EventHandler"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7441" x="1457.5566" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7441" x="1464.5566" y="111.7285">PhysicianEventHandler</text></g><g class="participant participant-tail" data-participant="EventHandler"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.7441" x="1457.5566" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.7441" x="1464.5566" y="1157.6621">PhysicianEventHandler</text></g><g class="participant participant-head" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.958" x="1718.8213" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.958" x="1725.8213" y="93.1074">PhysicianQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="1728.5454" y="111.7285">(Read Model - MongoDB)</text></g><g class="participant participant-tail" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178.958" x="1718.8213" y="1135.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.958" x="1725.8213" y="1157.6621">PhysicianQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="1728.5454" y="1176.2832">(Read Model - MongoDB)</text></g><g><title>Client</title><rect fill="#FFFFFF" height="641.8203" style="stroke:#181818;stroke-width:1;" width="10" x="20.8965" y="133.2422"/></g><g><title>PhysicianController</title><rect fill="#FFFFFF" height="601.2383" style="stroke:#181818;stroke-width:1;" width="10" x="222.249" y="173.8242"/></g><g><title>PhysicianCommandService</title><rect fill="#FFFFFF" height="521.3652" style="stroke:#181818;stroke-width:1;" width="10" x="413.4834" y="205.1152"/></g><g><title>PhysicianService</title><rect fill="#FFFFFF" height="289.3281" style="stroke:#181818;stroke-width:1;" width="10" x="732.583" y="236.4063"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1059.4604" y="356.2793"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1213.7944" y="463.1523"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1213.7944" y="557.0254"/></g><g><title>RabbitMQ</title><rect fill="#FFFFFF" height="197.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1332.7217" y="663.8984"/></g><g><title>PhysicianEventHandler</title><rect fill="#FFFFFF" height="144.1641" style="stroke:#181818;stroke-width:1;" width="10" x="1531.9287" y="860.9355"/></g><g><title>PhysicianQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1803.3003" y="936.5176"/></g><g class="message" data-participant-1="Client" data-participant-2="Controller"><polygon fill="#181818" points="210.249,169.8242,220.249,173.8242,210.249,177.8242,214.249,173.8242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="30.8965" x2="216.249" y1="173.8242" y2="173.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="40.3965" y="159.916">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2744" x="57.0505" y="151.2705">POST /physicians/register</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.1226" x="51.6265" y="168.5615">(RegisterPhysicianRequest)</text></g><g class="message" data-participant-1="Controller" data-participant-2="CommandService"><polygon fill="#181818" points="401.4834,201.1152,411.4834,205.1152,401.4834,209.1152,405.4834,205.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="232.249" x2="407.4834" y1="205.1152" y2="205.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="241.749" y="199.8525">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0044" x="252.979" y="199.8525">registerPhysician(request)</text></g><g class="message" data-participant-1="CommandService" data-participant-2="Service"><polygon fill="#181818" points="720.583,232.4063,730.583,236.4063,720.583,240.4063,724.583,236.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="423.4834" x2="726.583" y1="236.4063" y2="236.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="524.7346" y="231.1436">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.3672" x="535.9646" y="231.1436">register(request)</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:2;" x1="742.583" x2="784.583" y1="267.6973" y2="267.6973"/><line style="stroke:#181818;stroke-width:2;" x1="784.583" x2="784.583" y1="267.6973" y2="280.6973"/><line style="stroke:#181818;stroke-width:2;" x1="743.583" x2="784.583" y1="280.6973" y2="280.6973"/><polygon fill="#181818" points="753.583,276.6973,743.583,280.6973,753.583,284.6973,749.583,280.6973" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="749.583" y="262.4346">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7007" x="760.813" y="262.4346">Validate physician data</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:2;" x1="742.583" x2="784.583" y1="311.9883" y2="311.9883"/><line style="stroke:#181818;stroke-width:2;" x1="784.583" x2="784.583" y1="311.9883" y2="324.9883"/><line style="stroke:#181818;stroke-width:2;" x1="743.583" x2="784.583" y1="324.9883" y2="324.9883"/><polygon fill="#181818" points="753.583,320.9883,743.583,324.9883,753.583,328.9883,749.583,324.9883" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="749.583" y="306.7256">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8525" x="760.813" y="306.7256">Generate physicianId</text></g><g class="message" data-participant-1="Service" data-participant-2="ExternalClient"><polygon fill="#181818" points="1047.4604,352.2793,1057.4604,356.2793,1047.4604,360.2793,1051.4604,356.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="742.583" x2="1053.4604" y1="356.2793" y2="356.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="752.083" y="351.0166">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.6475" x="763.313" y="351.0166">registerUser(username, password, "PHYSICIAN")</text></g><g class="message" data-participant-1="ExternalClient" data-participant-2="Service"><polygon fill="#181818" points="753.583,383.5703,743.583,387.5703,753.583,391.5703,749.583,387.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="747.583" x2="1063.4604" y1="387.5703" y2="387.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="809.7568" y="382.3076">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2998" x="820.9868" y="382.3076">User registered in auth service</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:2;" x1="742.583" x2="784.583" y1="418.8613" y2="418.8613"/><line style="stroke:#181818;stroke-width:2;" x1="784.583" x2="784.583" y1="418.8613" y2="431.8613"/><line style="stroke:#181818;stroke-width:2;" x1="743.583" x2="784.583" y1="431.8613" y2="431.8613"/><polygon fill="#181818" points="753.583,427.8613,743.583,431.8613,753.583,435.8613,749.583,431.8613" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="749.583" y="413.5986">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9517" x="760.813" y="413.5986">Create Physician entity</text></g><g class="message" data-participant-1="Service" data-participant-2="WriteRepo"><polygon fill="#181818" points="1201.7944,459.1523,1211.7944,463.1523,1201.7944,467.1523,1205.7944,463.1523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="742.583" x2="1207.7944" y1="463.1523" y2="463.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="927.4165" y="457.8896">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3145" x="938.6465" y="457.8896">save(physician)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="Service"><polygon fill="#181818" points="753.583,490.4434,743.583,494.4434,753.583,498.4434,749.583,494.4434" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="747.583" x2="1217.7944" y1="494.4434" y2="494.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="920.1602" y="489.1807">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5972" x="938.6201" y="489.1807">Physician (saved)</text></g><g class="message" data-participant-1="Service" data-participant-2="CommandService"><polygon fill="#181818" points="434.4834,521.7344,424.4834,525.7344,434.4834,529.7344,430.4834,525.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="428.4834" x2="736.583" y1="525.7344" y2="525.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="508.7947" y="520.4717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0171" x="527.2546" y="520.4717">PhysicianIdResponse</text></g><g class="message" data-participant-1="CommandService" data-participant-2="WriteRepo"><polygon fill="#181818" points="1201.7944,553.0254,1211.7944,557.0254,1201.7944,561.0254,1205.7944,557.0254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="423.4834" x2="1207.7944" y1="557.0254" y2="557.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="749.0745" y="551.7627">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="767.5344" y="551.7627">findById(physicianId)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="CommandService"><polygon fill="#181818" points="434.4834,584.3164,424.4834,588.3164,434.4834,592.3164,430.4834,588.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="428.4834" x2="1217.7944" y1="588.3164" y2="588.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="784.0903" y="583.0537">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6372" x="802.5503" y="583.0537">Physician</text></g><g class="message" data-participant-1="CommandService" data-participant-2="CommandService"><line style="stroke:#181818;stroke-width:2;" x1="423.4834" x2="465.4834" y1="619.6074" y2="619.6074"/><line style="stroke:#181818;stroke-width:2;" x1="465.4834" x2="465.4834" y1="619.6074" y2="632.6074"/><line style="stroke:#181818;stroke-width:2;" x1="424.4834" x2="465.4834" y1="632.6074" y2="632.6074"/><polygon fill="#181818" points="434.4834,628.6074,424.4834,632.6074,434.4834,636.6074,430.4834,632.6074" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="430.4834" y="614.3447">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.6396" x="448.9434" y="614.3447">publishPhysicianRegisteredEvent(physicianId)</text></g><g class="message" data-participant-1="CommandService" data-participant-2="RabbitMQ"><polygon fill="#181818" points="1320.7217,659.8984,1330.7217,663.8984,1320.7217,667.8984,1324.7217,663.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="423.4834" x2="1326.7217" y1="663.8984" y2="663.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="734.5466" y="658.6357">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.6519" x="753.0066" y="658.6357">convertAndSend("physician.registered", event)</text></g><g class="message" data-participant-1="RabbitMQ" data-participant-2="CommandService"><polygon fill="#181818" points="434.4834,691.1895,424.4834,695.1895,434.4834,699.1895,430.4834,695.1895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="428.4834" x2="1331.7217" y1="695.1895" y2="695.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="822.6172" y="689.9268">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5107" x="841.0771" y="689.9268">Event published</text></g><g class="message" data-participant-1="CommandService" data-participant-2="Controller"><polygon fill="#181818" points="243.249,722.4805,233.249,726.4805,243.249,730.4805,239.249,726.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="237.249" x2="417.4834" y1="726.4805" y2="726.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="253.6277" y="721.2178">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0171" x="272.0876" y="721.2178">PhysicianIdResponse</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="36.8965,771.0625,26.8965,775.0625,36.8965,779.0625,32.8965,775.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="30.8965" x2="226.249" y1="775.0625" y2="775.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="54.8342" y="761.1543">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="113.7605" y="752.5088">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0171" x="73.2942" y="769.7998">PhysicianIdResponse</text></g><path d="M1347,788.0625 L1347,832.0625 L1542,832.0625 L1542,798.0625 L1532,788.0625 L1347,788.0625" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1532,788.0625 L1532,798.0625 L1542,798.0625 L1532,788.0625" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4707" x="1353" y="807.0908">Asynchronous processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1543" x="1353" y="824.3818">Event is consumed by handler</text><g class="message" data-participant-1="RabbitMQ" data-participant-2="EventHandler"><polygon fill="#181818" points="1519.9287,856.9355,1529.9287,860.9355,1519.9287,864.9355,1523.9287,860.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1337.7217" x2="1525.9287" y1="860.9355" y2="860.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1349.7217" y="855.6729">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7471" x="1368.1816" y="855.6729">PhysicianRegisteredEvent</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="EventHandler"><line style="stroke:#181818;stroke-width:2;" x1="1541.9287" x2="1583.9287" y1="892.2266" y2="892.2266"/><line style="stroke:#181818;stroke-width:2;" x1="1583.9287" x2="1583.9287" y1="892.2266" y2="905.2266"/><line style="stroke:#181818;stroke-width:2;" x1="1542.9287" x2="1583.9287" y1="905.2266" y2="905.2266"/><polygon fill="#181818" points="1552.9287,901.2266,1542.9287,905.2266,1552.9287,909.2266,1548.9287,905.2266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1548.9287" y="886.9639">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.9116" x="1567.3887" y="886.9639">Create PhysicianSummary from event</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="ReadRepo"><polygon fill="#181818" points="1791.3003,932.5176,1801.3003,936.5176,1791.3003,940.5176,1795.3003,936.5176" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1541.9287" x2="1797.3003" y1="936.5176" y2="936.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1589.6978" y="931.2549">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.3735" x="1608.1577" y="931.2549">save(PhysicianSummary)</text></g><g class="message" data-participant-1="ReadRepo" data-participant-2="EventHandler"><polygon fill="#181818" points="1552.9287,963.8086,1542.9287,967.8086,1552.9287,971.8086,1548.9287,967.8086" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="1546.9287" x2="1807.3003" y1="967.8086" y2="967.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1647.4541" y="962.5459">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8608" x="1665.9141" y="962.5459">Saved</text></g><g class="message" data-participant-1="EventHandler" data-participant-2="EventHandler"><line style="stroke:#181818;stroke-width:2;" x1="1541.9287" x2="1583.9287" y1="1004.0996" y2="1004.0996"/><line style="stroke:#181818;stroke-width:2;" x1="1583.9287" x2="1583.9287" y1="1004.0996" y2="1017.0996"/><line style="stroke:#181818;stroke-width:2;" x1="1536.9287" x2="1583.9287" y1="1017.0996" y2="1017.0996"/><polygon fill="#181818" points="1546.9287,1013.0996,1536.9287,1017.0996,1546.9287,1021.0996,1542.9287,1017.0996" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1548.9287" y="998.8369">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.9897" x="1567.3887" y="998.8369">Update MongoDB read model</text></g><path d="M232,1025.0996 L232,1121.0996 L558,1121.0996 L558,1035.0996 L548,1025.0996 L232,1025.0996" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M548,1025.0996 L548,1035.0996 L558,1035.0996 L548,1025.0996" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305.6396" x="238" y="1044.1279">Este diagrama mostra o registro de um novo m&#233;dico.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.7705" x="238" y="1061.4189">O m&#233;dico &#233; registrado no servi&#231;o de autentica&#231;&#227;o,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292.6523" x="238" y="1078.71">salvo no write model (H2) e um evento &#233; publicado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.7324" x="238" y="1096.001">no RabbitMQ para criar o summary no read model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.1943" x="238" y="1113.292">(MongoDB) de forma ass&#237;ncrona.</text><!--SRC=[ZLPBRjim4Dth50Dtem3v8Kil0ZXEsXY5cyHEMXJ8XXPfcOX4ggJaHEVf8iYYf_35EgH-f2sxzSQYEFFutlme_S95HXH9OK6YbrZ9Gj2nJAI2Jv_jBz2jXMQ_2YOYDcLQavYD4XuBY9Z8cUgn6YabNnzNF7eHQ0yNGP3pF64mOp7Nw0BtgrBpY1C19p2ldU2QanXHWe14EP8O9npn0qJEqJGZ8eT1wpUM8bSoIPWQ0D7GBVVQfoaHTCxKcaUizd5VxV5p7NejRzvGZo19lLcHjkRDpa4TCvP9pL5k-Ip27uhd3AQIiWJZSdjnP77iMsFdGyp8Oi7pwSEpk7cBLaJ45SdczPxpRjR8vHPbDv5pN-pnUIYOAZsYCqPeotCgHIolhogoPiTo3KYHIr6a2uJ5VF8rGMbrAAe_EBbqyZQ4-xlv8vnbpQdwJDNLOW-i7fsuOT7e_CZ1xaeWw9whGzn43q5jWuMg1yqhZi1V6zGTk1wKrhtFxpj9E3LMhMJ09Ucr_S84KvxjX7geVh5rf9uq4YkqsKlPCMH4wrUfw36cz_RdV3AUZBuD7C9RDUiluSIbP93ROnW5BW1Jli8PK6ccR1zghyAnOiQq6mneoVFIjMqROGYQh5dOni8Hq3LB- -JJxWu83GWzSebstjsvFGLqtoLXndGcXVRa7YWQHyAI2tfLJcZefFG_XEpbiaV7BeTjXAnO95oldDPgScfdWyzl5wuPE4E8f5WpbO_Cjg3Xe7KyxSfaS0pCe3fAsudLFFJgj5mQhepk2jkU9eTpjDlVtSGmI7KRNPoVmztNP_5Fj7Rsk6_hSXSI5uh7gnpaifCBCDAbY5PA2bbeo9ICyBBa8XxYLYMNQnDKNQJONuiILlMOnkY20GsSa5rwazpHlvLEbs1BfUjKzpO8tDNk2TiTEoymfAg4fP9fbUGTWEPsg1juszKjYkOUQHviMdm2SzE_dfxsyZdC_2cpSxU-k728uMsMcjlC6rfUAFmSEld6L65qWLRVBWHnTAu8o7eqAWcKGP5YljOIqiq7vP4yHQ-xPW6RZyQMK8bsrGJTl5jF7Abc44PayxxvBO_HKPDaRSrUxTU2vGqXVYo0FSS6teBQNeaG4vtGl2qLywa6aU948KjT9qr8Dmm0ONEh6n9BgL0PNXsRFoB2SYMdNGd-1G00]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1748px" preserveAspectRatio="none" style="width:1691px;height:1748px;background:#FFFFFF;" version="1.1" viewBox="0 0 1691 1748" width="1691px" zoomAndPan="magnify"><title>Get Appointment By ID - Sequence Diagram</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="291.71" x="706.3701" y="30.1074">Get Appointment By ID - Sequence Diagram</text><g><title>Client</title><rect fill="#FFFFFF" height="1522.8613" style="stroke:#181818;stroke-width:1;" width="10" x="55.8965" y="133.2422"/></g><g><title>AppointmentController</title><rect fill="#FFFFFF" height="1392.1152" style="stroke:#181818;stroke-width:1;" width="10" x="302.8125" y="156.5332"/></g><g><title>AppointmentQueryService</title><rect fill="#FFFFFF" height="868.5371" style="stroke:#181818;stroke-width:1;" width="10" x="551.1694" y="187.8242"/></g><g><title>AppointmentQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="816.7456" y="219.1152"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="307.9883"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="574.3164"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="978.7793"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="511.7344"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="798.6934"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="1171.1563"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1323.3438" y="643.8984"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1323.3438" y="861.2754"/></g><g><title>RestTemplate</title><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1;" width="10" x="1454.333" y="1260.0293"/></g><g><title>Peer Instance</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1620.2573" y="1291.3203"/></g><rect fill="none" height="783.9551" style="stroke:#000000;stroke-width:1.5;" width="1207.5962" x="211.1646" y="265.4063"/><rect fill="none" height="577.5781" style="stroke:#000000;stroke-width:1.5;" width="1187.5962" x="221.1646" y="354.2793"/><rect fill="none" height="144.4551" style="stroke:#000000;stroke-width:1.5;" width="800.4639" x="457.4629" y="469.1523"/><rect fill="none" height="324.2012" style="stroke:#000000;stroke-width:1.5;" width="1665.4502" x="20" y="1217.4473"/><rect fill="none" height="101.1641" style="stroke:#000000;stroke-width:1.5;" width="364.4604" x="30" y="1368.9023"/><rect fill="none" height="19.291" style="stroke:#000000;stroke-width:1.5;" width="84.6899" x="50" y="1443.7754"/><rect fill="none" height="50.582" style="stroke:#000000;stroke-width:1.5;" width="364.4604" x="30" y="1484.0664"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="56.8965" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="60" x2="60" y1="123.2422" y2="1665.1035"/></g><g><title>AppointmentController</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="303.8125" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="307.1646" x2="307.1646" y1="123.2422" y2="1665.1035"/></g><g><title>AppointmentQueryService</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="552.1694" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="555.4629" x2="555.4629" y1="123.2422" y2="1665.1035"/></g><g><title>AppointmentQueryRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="817.7456" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="820.9219" x2="820.9219" y1="123.2422" y2="1665.1035"/></g><g><title>AppointmentRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="1006.3311" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1009.5693" x2="1009.5693" y1="123.2422" y2="1665.1035"/></g><g><title>ExternalServiceClient</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="1170.0098" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1173.0928" x2="1173.0928" y1="123.2422" y2="1665.1035"/></g><g><title>PhysicianRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="1324.3438" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1327.9268" x2="1327.9268" y1="123.2422" y2="1665.1035"/></g><g><title>RestTemplate</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="1455.333" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1458.7607" x2="1458.7607" y1="123.2422" y2="1665.1035"/></g><g><title>Peer Instance</title><rect fill="#000000" fill-opacity="0.00000" height="1541.8613" width="8" x="1621.2573" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1625.0645" x2="1625.0645" y1="123.2422" y2="1665.1035"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="40" y="119.7285">Client</text><ellipse cx="60.8965" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60.8965,61.1211 L60.8965,88.1211 M47.8965,69.1211 L73.8965,69.1211 M60.8965,88.1211 L47.8965,103.1211 M60.8965,88.1211 L73.8965,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="40" y="1679.2109">Client</text><ellipse cx="60.8965" cy="1691.2246" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M60.8965,1699.2246 L60.8965,1726.2246 M47.8965,1707.2246 L73.8965,1707.2246 M60.8965,1726.2246 L47.8965,1741.2246 M60.8965,1726.2246 L73.8965,1741.2246" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.2959" x="231.1646" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2959" x="238.1646" y="111.7285">AppointmentController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153.2959" x="231.1646" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2959" x="238.1646" y="1686.2109">AppointmentController</text></g><g class="participant participant-head" data-participant="QueryService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.4131" x="467.4629" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.4131" x="474.4629" y="111.7285">AppointmentQueryService</text></g><g class="participant participant-tail" data-participant="QueryService"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.4131" x="467.4629" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.4131" x="474.4629" y="1686.2109">AppointmentQueryService</text></g><g class="participant participant-head" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.6475" x="722.9219" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.6475" x="729.9219" y="93.1074">AppointmentQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="741.9907" y="111.7285">(Read Model - MongoDB)</text></g><g class="participant participant-tail" data-participant="ReadRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.6475" x="722.9219" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.6475" x="729.9219" y="1686.2109">AppointmentQueryRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.5098" x="741.9907" y="1704.832">(Read Model - MongoDB)</text></g><g class="participant participant-head" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.5234" x="930.5693" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.5234" x="937.5693" y="93.1074">AppointmentRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="953.1587" y="111.7285">(Write Model - H2)</text></g><g class="participant participant-tail" data-participant="WriteRepo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.5234" x="930.5693" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.5234" x="937.5693" y="1686.2109">AppointmentRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3447" x="953.1587" y="1704.832">(Write Model - H2)</text></g><g class="participant participant-head" data-participant="ExternalClient"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.834" x="1100.0928" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="1107.0928" y="111.7285">ExternalServiceClient</text></g><g class="participant participant-tail" data-participant="ExternalClient"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.834" x="1100.0928" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="1107.0928" y="1686.2109">ExternalServiceClient</text></g><g class="participant participant-head" data-participant="PhysicianRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1257.9268" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1264.9268" y="111.7285">PhysicianRepository</text></g><g class="participant participant-tail" data-participant="PhysicianRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.834" x="1257.9268" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.834" x="1264.9268" y="1686.2109">PhysicianRepository</text></g><g class="participant participant-head" data-participant="RestTemplate"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1445" x="1408.7607" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1445" x="1415.7607" y="111.7285">RestTemplate</text></g><g class="participant participant-tail" data-participant="RestTemplate"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1445" x="1408.7607" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1445" x="1415.7607" y="1686.2109">RestTemplate</text></g><g class="participant participant-head" data-participant="Peer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.3857" x="1575.0645" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3857" x="1582.0645" y="111.7285">Peer Instance</text></g><g class="participant participant-tail" data-participant="Peer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.3857" x="1575.0645" y="1664.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3857" x="1582.0645" y="1686.2109">Peer Instance</text></g><g><title>Client</title><rect fill="#FFFFFF" height="1522.8613" style="stroke:#181818;stroke-width:1;" width="10" x="55.8965" y="133.2422"/></g><g><title>AppointmentController</title><rect fill="#FFFFFF" height="1392.1152" style="stroke:#181818;stroke-width:1;" width="10" x="302.8125" y="156.5332"/></g><g><title>AppointmentQueryService</title><rect fill="#FFFFFF" height="868.5371" style="stroke:#181818;stroke-width:1;" width="10" x="551.1694" y="187.8242"/></g><g><title>AppointmentQueryRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="816.7456" y="219.1152"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="307.9883"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="574.3164"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1005.3311" y="978.7793"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="511.7344"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="798.6934"/></g><g><title>ExternalServiceClient</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1169.0098" y="1171.1563"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1323.3438" y="643.8984"/></g><g><title>PhysicianRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1323.3438" y="861.2754"/></g><g><title>RestTemplate</title><rect fill="#FFFFFF" height="93.873" style="stroke:#181818;stroke-width:1;" width="10" x="1454.333" y="1260.0293"/></g><g><title>Peer Instance</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1620.2573" y="1291.3203"/></g><g class="message" data-participant-1="Client" data-participant-2="Controller"><polygon fill="#181818" points="290.8125,152.5332,300.8125,156.5332,290.8125,160.5332,294.8125,156.5332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="65.8965" x2="296.8125" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="75.3965" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.686" x="86.6265" y="151.2705">GET /appointments/{appointmentId}</text></g><g class="message" data-participant-1="Controller" data-participant-2="QueryService"><polygon fill="#181818" points="539.1694,183.8242,549.1694,187.8242,539.1694,191.8242,543.1694,187.8242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="312.8125" x2="545.1694" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="322.3125" y="182.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.127" x="333.5425" y="182.5615">getAppointmentById(appointmentId)</text></g><g class="message" data-participant-1="QueryService" data-participant-2="ReadRepo"><polygon fill="#181818" points="804.7456,215.1152,814.7456,219.1152,804.7456,223.1152,808.7456,219.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="810.7456" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="614.3308" y="213.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0234" x="625.5608" y="213.8525">findById(appointmentId)</text></g><g class="message" data-participant-1="ReadRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,246.4063,562.1694,250.4063,572.1694,254.4063,568.1694,250.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="820.7456" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="589.7358" y="245.1436">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.2134" x="600.9658" y="245.1436">Optional&lt;AppointmentSummary&gt;</text></g><path d="M211.1646,265.4063 L271.3354,265.4063 L271.3354,274.6973 L261.3354,284.6973 L211.1646,284.6973 L211.1646,265.4063" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="783.9551" style="stroke:#000000;stroke-width:1.5;" width="1207.5962" x="211.1646" y="265.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="226.1646" y="280.4346">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="226.6924" x="286.3354" y="279.2764">[AppointmentSummary found in MongoDB]</text><g class="message" data-participant-1="QueryService" data-participant-2="WriteRepo"><polygon fill="#181818" points="993.3311,303.9883,1003.3311,307.9883,993.3311,311.9883,997.3311,307.9883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="999.3311" y1="307.9883" y2="307.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="708.6235" y="302.7256">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0234" x="719.8535" y="302.7256">findById(appointmentId)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,335.2793,562.1694,339.2793,572.1694,343.2793,568.1694,339.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1009.3311" y1="339.2793" y2="339.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="711.8376" y="334.0166">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5952" x="723.0676" y="334.0166">Optional&lt;Appointment&gt;</text></g><path d="M221.1646,354.2793 L281.3354,354.2793 L281.3354,363.5703 L271.3354,373.5703 L221.1646,373.5703 L221.1646,354.2793" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="577.5781" style="stroke:#000000;stroke-width:1.5;" width="1187.5962" x="221.1646" y="354.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="236.1646" y="369.3076">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="208.3608" x="296.3354" y="368.1494">[Full Appointment found in write model]</text><g class="message" data-participant-1="QueryService" data-participant-2="QueryService"><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="603.1694" y1="396.8613" y2="396.8613"/><line style="stroke:#181818;stroke-width:2;" x1="603.1694" x2="603.1694" y1="396.8613" y2="409.8613"/><line style="stroke:#181818;stroke-width:2;" x1="562.1694" x2="603.1694" y1="409.8613" y2="409.8613"/><polygon fill="#181818" points="572.1694,405.8613,562.1694,409.8613,572.1694,413.8613,568.1694,409.8613" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="568.1694" y="391.5986">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.3462" x="579.3994" y="391.5986">toAppointmentWithFallback(summary)</text></g><g class="message" data-participant-1="QueryService" data-participant-2="QueryService"><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="603.1694" y1="441.1523" y2="441.1523"/><line style="stroke:#181818;stroke-width:2;" x1="603.1694" x2="603.1694" y1="441.1523" y2="454.1523"/><line style="stroke:#181818;stroke-width:2;" x1="562.1694" x2="603.1694" y1="454.1523" y2="454.1523"/><polygon fill="#181818" points="572.1694,450.1523,562.1694,454.1523,572.1694,458.1523,568.1694,454.1523" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="568.1694" y="435.8896">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.1943" x="579.3994" y="435.8896">Check if patient data is missing</text></g><path d="M457.4629,469.1523 L517.6338,469.1523 L517.6338,478.4434 L507.6338,488.4434 L457.4629,488.4434 L457.4629,469.1523" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="144.4551" style="stroke:#000000;stroke-width:1.5;" width="800.4639" x="457.4629" y="469.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="472.4629" y="484.1807">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114.2969" x="532.6338" y="483.0225">[Patient data missing]</text><g class="message" data-participant-1="QueryService" data-participant-2="ExternalClient"><polygon fill="#181818" points="1157.0098,507.7344,1167.0098,511.7344,1157.0098,515.7344,1161.0098,511.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="1163.0098" y1="511.7344" y2="511.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="787.9302" y="506.4717">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0889" x="799.1602" y="506.4717">getPatientById(patientId)</text></g><g class="message" data-participant-1="ExternalClient" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,539.0254,562.1694,543.0254,572.1694,547.0254,568.1694,543.0254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1173.0098" y1="543.0254" y2="543.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="804.887" y="537.7627">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9453" x="823.3469" y="537.7627">Patient data (Map)</text></g><g class="message" data-participant-1="QueryService" data-participant-2="WriteRepo"><polygon fill="#181818" points="993.3311,570.3164,1003.3311,574.3164,993.3311,578.3164,997.3311,574.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="999.3311" y1="574.3164" y2="574.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="693.4463" y="569.0537">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.1479" x="711.9063" y="569.0537">save(enriched appointment)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,601.6074,562.1694,605.6074,572.1694,609.6074,568.1694,605.6074" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1009.3311" y1="605.6074" y2="605.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="758.0898" y="600.3447">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8608" x="776.5498" y="600.3447">Saved</text></g><g class="message" data-participant-1="QueryService" data-participant-2="PhysicianRepo"><polygon fill="#181818" points="1311.3438,639.8984,1321.3438,643.8984,1311.3438,647.8984,1315.3438,643.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="1317.3438" y1="643.8984" y2="643.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="872.6921" y="638.6357">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="891.1521" y="638.6357">findById(physicianId)</text></g><g class="message" data-participant-1="PhysicianRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,671.1895,562.1694,675.1895,572.1694,679.1895,568.1694,675.1895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1327.3438" y1="675.1895" y2="675.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="875.9063" y="669.9268">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2407" x="894.3662" y="669.9268">Optional&lt;Physician&gt;</text></g><g class="message" data-participant-1="QueryService" data-participant-2="Controller"><polygon fill="#181818" points="323.8125,702.4805,313.8125,706.4805,323.8125,710.4805,319.8125,706.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="317.8125" x2="550.1694" y1="706.4805" y2="706.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="354.4634" y="701.2178">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5952" x="372.9233" y="701.2178">Optional&lt;Appointment&gt;</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="221.1646" x2="1408.7607" y1="715.4805" y2="715.4805"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="172.3154" x="226.1646" y="727.3506">[Appointment not in write model]</text><g class="message" data-participant-1="QueryService" data-participant-2="QueryService"><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="603.1694" y1="754.4023" y2="754.4023"/><line style="stroke:#181818;stroke-width:2;" x1="603.1694" x2="603.1694" y1="754.4023" y2="767.4023"/><line style="stroke:#181818;stroke-width:2;" x1="562.1694" x2="603.1694" y1="767.4023" y2="767.4023"/><polygon fill="#181818" points="572.1694,763.4023,562.1694,767.4023,572.1694,771.4023,568.1694,767.4023" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="568.1694" y="749.1396">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.1816" x="586.6294" y="749.1396">Build Appointment from summary</text></g><g class="message" data-participant-1="QueryService" data-participant-2="ExternalClient"><polygon fill="#181818" points="1157.0098,794.6934,1167.0098,798.6934,1157.0098,802.6934,1161.0098,798.6934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="1163.0098" y1="798.6934" y2="798.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="784.3152" y="793.4307">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0889" x="802.7751" y="793.4307">getPatientById(patientId)</text></g><g class="message" data-participant-1="ExternalClient" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,825.9844,562.1694,829.9844,572.1694,833.9844,568.1694,829.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1173.0098" y1="829.9844" y2="829.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="823.6665" y="824.7217">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3862" x="842.1265" y="824.7217">Patient data</text></g><g class="message" data-participant-1="QueryService" data-participant-2="PhysicianRepo"><polygon fill="#181818" points="1311.3438,857.2754,1321.3438,861.2754,1311.3438,865.2754,1315.3438,861.2754" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="1317.3438" y1="861.2754" y2="861.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="872.6921" y="856.0127">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6689" x="891.1521" y="856.0127">findById(physicianId)</text></g><g class="message" data-participant-1="PhysicianRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,888.5664,562.1694,892.5664,572.1694,896.5664,568.1694,892.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1327.3438" y1="892.5664" y2="892.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="875.9063" y="887.3037">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2407" x="894.3662" y="887.3037">Optional&lt;Physician&gt;</text></g><g class="message" data-participant-1="QueryService" data-participant-2="Controller"><polygon fill="#181818" points="323.8125,919.8574,313.8125,923.8574,323.8125,927.8574,319.8125,923.8574" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="317.8125" x2="550.1694" y1="923.8574" y2="923.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="354.4634" y="918.5947">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5952" x="372.9233" y="918.5947">Optional&lt;Appointment&gt;</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="211.1646" x2="1418.7607" y1="939.8574" y2="939.8574"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="246.8501" x="216.1646" y="951.7275">[AppointmentSummary not found in MongoDB]</text><g class="message" data-participant-1="QueryService" data-participant-2="WriteRepo"><polygon fill="#181818" points="993.3311,974.7793,1003.3311,978.7793,993.3311,982.7793,997.3311,978.7793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="561.1694" x2="999.3311" y1="978.7793" y2="978.7793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="705.0085" y="973.5166">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0234" x="723.4685" y="973.5166">findById(appointmentId)</text></g><g class="message" data-participant-1="WriteRepo" data-participant-2="QueryService"><polygon fill="#181818" points="572.1694,1006.0703,562.1694,1010.0703,572.1694,1014.0703,568.1694,1010.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="566.1694" x2="1009.3311" y1="1010.0703" y2="1010.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="708.2227" y="1004.8076">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5952" x="726.6826" y="1004.8076">Optional&lt;Appointment&gt;</text></g><g class="message" data-participant-1="QueryService" data-participant-2="Controller"><polygon fill="#181818" points="323.8125,1037.3613,313.8125,1041.3613,323.8125,1045.3613,319.8125,1041.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="317.8125" x2="550.1694" y1="1041.3613" y2="1041.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="354.4634" y="1036.0986">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5952" x="372.9233" y="1036.0986">Optional&lt;Appointment&gt;</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="76.8965,1119.2344,66.8965,1123.2344,76.8965,1127.2344,72.8965,1123.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="70.8965" x2="301.8125" y1="1123.2344" y2="1123.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="138.6287" y="1109.3262">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="171.5422" y="1100.6807">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9917" x="157.0886" y="1117.9717">Appointment</text></g><g class="message" data-participant-1="Controller" data-participant-2="ExternalClient"><polygon fill="#181818" points="1157.0098,1167.1563,1167.0098,1171.1563,1157.0098,1175.1563,1161.0098,1171.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="312.8125" x2="1163.0098" y1="1171.1563" y2="1171.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="693.0334" y="1165.8936">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.2954" x="711.4934" y="1165.8936">getPeerUrls()</text></g><g class="message" data-participant-1="ExternalClient" data-participant-2="Controller"><polygon fill="#181818" points="323.8125,1198.4473,313.8125,1202.4473,323.8125,1206.4473,319.8125,1202.4473" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="317.8125" x2="1173.0098" y1="1202.4473" y2="1202.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="673.1262" y="1197.1846">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1099" x="691.5862" y="1197.1846">List&lt;String&gt; peerUrls</text></g><path d="M20,1217.4473 L92.4346,1217.4473 L92.4346,1226.7383 L82.4346,1236.7383 L20,1236.7383 L20,1217.4473" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="324.2012" style="stroke:#000000;stroke-width:1.5;" width="1665.4502" x="20" y="1217.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="35" y="1232.4756">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.1284" x="107.4346" y="1231.3174">[For each peer URL]</text><g class="message" data-participant-1="Controller" data-participant-2="RestTemplate"><polygon fill="#181818" points="1442.333,1256.0293,1452.333,1260.0293,1442.333,1264.0293,1446.333,1260.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="312.8125" x2="1448.333" y1="1260.0293" y2="1260.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="766.6611" y="1254.7666">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.3633" x="785.1211" y="1254.7666">GET {peer}/internal/appointments/{id}</text></g><g class="message" data-participant-1="RestTemplate" data-participant-2="Peer"><polygon fill="#181818" points="1608.2573,1287.3203,1618.2573,1291.3203,1608.2573,1295.3203,1612.2573,1291.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;" x1="1464.333" x2="1614.2573" y1="1291.3203" y2="1291.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1477.4407" y="1286.0576">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.249" x="1495.9006" y="1286.0576">HTTP GET request</text></g><g class="message" data-participant-1="Peer" data-participant-2="RestTemplate"><polygon fill="#181818" points="1475.333,1318.6113,1465.333,1322.6113,1475.333,1326.6113,1471.333,1322.6113" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="1469.333" x2="1624.2573" y1="1322.6113" y2="1322.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1478.833" y="1317.3486">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4644" x="1497.293" y="1317.3486">Appointment or 404</text></g><g class="message" data-participant-1="RestTemplate" data-participant-2="Controller"><polygon fill="#181818" points="323.8125,1349.9023,313.8125,1353.9023,323.8125,1357.9023,319.8125,1353.9023" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="317.8125" x2="1458.333" y1="1353.9023" y2="1353.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="820.8374" y="1348.6396">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.0107" x="839.2974" y="1348.6396">Appointment or null</text></g><path d="M30,1368.9023 L90.1709,1368.9023 L90.1709,1378.1934 L80.1709,1388.1934 L30,1388.1934 L30,1368.9023" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="101.1641" style="stroke:#000000;stroke-width:1.5;" width="364.4604" x="30" y="1368.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="45" y="1383.9307">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.8662" x="105.1709" y="1382.7725">[Appointment found in peer]</text><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="76.8965,1424.7754,66.8965,1428.7754,76.8965,1432.7754,72.8965,1428.7754" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="70.8965" x2="301.8125" y1="1428.7754" y2="1428.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="104.6782" y="1414.8672">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="171.5422" y="1406.2217">200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.8926" x="123.1382" y="1423.5127">Appointment (from peer)</text></g><path d="M50,1443.7754 L129.6899,1443.7754 L129.6899,1453.0664 L119.6899,1463.0664 L50,1463.0664 L50,1443.7754" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="19.291" style="stroke:#000000;stroke-width:1.5;" width="84.6899" x="50" y="1443.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="34.6899" x="65" y="1458.8037">break</text><path d="M30,1484.0664 L90.1709,1484.0664 L90.1709,1493.3574 L80.1709,1503.3574 L30,1503.3574 L30,1484.0664" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="50.582" style="stroke:#000000;stroke-width:1.5;" width="364.4604" x="30" y="1484.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="45" y="1499.0947">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="190.0347" x="105.1709" y="1497.9365">[Appointment not found in any peer]</text><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="76.8965,1522.6484,66.8965,1526.6484,76.8965,1530.6484,72.8965,1526.6484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:2;stroke-dasharray:2,2;" x1="70.8965" x2="301.8125" y1="1526.6484" y2="1526.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="132.1223" y="1521.3857">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.0044" x="150.5823" y="1521.3857">404 Not Found</text></g><path d="M312,1553.6484 L312,1649.6484 L650,1649.6484 L650,1563.6484 L640,1553.6484 L312,1553.6484" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M640,1553.6484 L640,1563.6484 L650,1563.6484 L640,1553.6484" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317.9351" x="318" y="1572.6768">Este diagrama mostra a busca de uma consulta por ID.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.3232" x="318" y="1589.9678">Primeiro tenta no read model (MongoDB), depois no</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.1987" x="318" y="1607.2588">write model (H2) com enriquecimento de dados do</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.2305" x="318" y="1624.5498">paciente. Se n&#227;o encontrar localmente, consulta</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.9941" x="318" y="1641.8408">inst&#226;ncias peer para garantir disponibilidade.</text><!--SRC=[vLVBZjis5DtpAoxIZGV8F338QX0Oc4US6Cqqqx63RBAXfJioOOfKIMfI8yZFf9-I7-kbdgGikpD1DqMri2MIzzpd8I_jHgY26vx3YYURpEXIfTTQQWE_pAg7sMw5nJzAL0dUehKymqifCWK9AeTcPDMbCVhBSYsIZQBrSCwO4quYl4K7bqMXXN8voSBL5kOtS0oBHWvk1Cy8Y36UEBBZMWfQnWZSYKGKd4HU1FBNMZcZfKJp0hY5_dElnEybckq2pQD8i9891mvBtMEXhI2hjf_Lv1vv2hSwHKdMtsgLwPkhemhGp_YbUy4Yd4z6EEo0tftN6DNeBiYRFodQYil6t3eubK0xCnQlk_NMqWTNlU9A9XgFHUxHkYNcXUGE6wVwWG4wee6viewh9g9-XF9NEgtAV4Nlb4hnI89jDki_E9u62Rk0js-MSChxCDdJhy7NFFqMuFHvPlsx1mopUG4PkY3kLzjvEeaWZth8g0nO-ELXsvnUm8DGwK6WBltj2nplsFMXS49Jjbu7rYtAFETcEsKfxc8nBYFUD8lXmJCMX6eha04zG-ExOjfllHVhjFR5vuUxhoVwCQsa0YTwk5eDUJ8hfOosWSwFBnKTSa-7QlMOFx4DJWT0duHRpxYKVZkRs3f8Hqy4kbvZiW7n00LtLNsct74G5d9XhL0Pwt2y2tVXedO51CzGMSpGgZORZ2eXZT8s6PsgDee3WeThugcHD4MsJcvv4Ui8SZNGSj2XeAmiVyG9AYEIDQOGrDOUP-8AQvz3bROW3Ua-gtVXKALiRzgZVI_WHD6EXqdebCIxPJiTZHvYIBTmoaOyYC7tM3xOB_UJ3wN5Y5vAkvyZrrKfP1eprMWwvMjciN-lrl-fpfzLu-mPbVt_AmwYnh10skF4ryb_y4ZvYKXK6qI061__WzEsYOdK2HqjTTM7NOTNs1Jw-TaPVFZrimg4sIWR3oEECuZQgez6siaWjYEC6M5B69BtmhhN2sVeo9f2qS2o9n16Qbt0ZDfoMhQk9E7Z_Vkk8cCNmfQnxkw-UeblfqBLo8DcJr27jqEigEziPyF1YhFelNgtNDvLQeo_IrWtmbBVc7Ran2PtiPrXeiZHLsUlHYaP8iNc368zm5FK-Om1Hdv6ZSPecrI4-fzNZp2fjd2F49_EAuDy4vsWqKawj2NQAxZQnZRjiOV22R-HuCmBzjlHW8nXUqzg48p8rXI-Xt26gjpIL5hV5wa7qzOP3XnMfKqunHPA6asqigMajgUWuCzlJaZipeWSXT7Wo2HEVb31q5skEXQfEsgkSYy9WPorD4yomSa94xga4MuElk6XIak4ZuVs6bEUQWkfboXuubt64xhQWlhnbwRbYRUUcvhsNWXVTWQIYA1Br8_lYdPwMtFBNwaXen_bX25FRQ6LM0afI0-U-B3vB23x6m00]--></g></svg>
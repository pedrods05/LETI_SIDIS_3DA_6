<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1895.3125px" preserveAspectRatio="none" style="width:2259px;height:1895px;background:#FFFFFF;" version="1.1" viewBox="0 0 2259 1895" width="2259.375px" zoomAndPan="magnify"><title>C4: Sequence Diagram - Get Patient Details (Admin)</title><defs/><g><text fill="#000000" font-family="Arial" font-size="21.875" font-weight="bold" lengthAdjust="spacing" textLength="539.6973" x="861.4101" y="43.2404">C4: Sequence Diagram - Get Patient Details (Admin)</text><g><title>Administrator</title><rect fill="#FFFFFF" height="76.6357" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="198.877"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="445.9717"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="713.4644"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="1131.3965"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="1494.6411"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="259.5947" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="230.9448"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="267.4927" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="557.4341"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="180.5786" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="995.3857"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="296.3501" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="1242.8589"/></g><g><title>PatientQueryService</title><rect fill="#FFFFFF" height="170.459" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="957.9048" y="275.5127"/></g><g><title>PatientQueryService</title><rect fill="#FFFFFF" height="111.4624" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="957.9048" y="490.5396"/></g><g><title>PatientQueryRepository</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1211.8263" y="320.0806"/></g><g><title>PatientQueryRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1211.8263" y="490.5396"/></g><g><title>PatientService</title><rect fill="#FFFFFF" height="217.334" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1435.9634" y="824.9268"/></g><g><title>PatientService</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1435.9634" y="1175.9644"/></g><g><title>PatientRepository</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1630.3162" y="869.4946"/></g><g><title>PatientRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1630.3162" y="1175.9644"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="646.5698"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="1086.8286"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="1450.0732"/></g><g><title>Peer Instance</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="2084.0912" y="1324.1821"/></g><rect fill="none" height="1400.1587" style="stroke:#000000;stroke-width:2.3438;" width="2232.83" x="15.625" y="343.5181"/><rect fill="none" height="839.8071" style="stroke:#000000;stroke-width:2.3438;" width="2201.58" x="31.25" y="892.9321"/><rect fill="none" height="455.5054" style="stroke:#000000;stroke-width:2.3438;" width="2170.33" x="46.875" y="1266.2964"/><rect fill="none" height="318.6768" style="stroke:#000000;stroke-width:2.3438;" width="2139.08" x="62.5" y="1347.6196"/><rect fill="none" height="92.7124" style="stroke:#000000;stroke-width:2.3438;" width="1707.7522" x="478.2028" y="1562.6465"/><g><title>Administrator</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="140.9912" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="146.875" x2="146.875" y1="183.252" y2="1770.2393"/></g><g><title>PatientController</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="579.9805" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="586.0153" x2="586.0153" y1="183.252" y2="1770.2393"/></g><g><title>PatientQueryService</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="959.4673" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="965.4106" x2="965.4106" y1="183.252" y2="1770.2393"/></g><g><title>PatientQueryRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="1213.3888" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="1219.149" x2="1219.149" y1="183.252" y2="1770.2393"/></g><g><title>PatientService</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="1437.5259" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="1443.5661" x2="1443.5661" y1="183.252" y2="1770.2393"/></g><g><title>PatientRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="1631.8787" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="1637.7357" x2="1637.7357" y1="183.252" y2="1770.2393"/></g><g><title>PatientLocalRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="1868.187" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="1872.8966" x2="1872.8966" y1="183.252" y2="1770.2393"/></g><g><title>Peer Instance</title><rect fill="#000000" fill-opacity="0.00000" height="1586.9873" width="12.5" x="2085.6537" y="183.252"/><line style="stroke:#181818;stroke-width:0.7813;stroke-dasharray:7.8125,7.8125;" x1="2091.6023" x2="2091.6023" y1="183.252" y2="1770.2393"/></g><g class="participant participant-head" data-participant="Admin"><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="128.8574" x="78.125" y="178.6163">Administrator</text><ellipse cx="147.2412" cy="78.3447" fill="#E2E2F0" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.7813;"/><path d="M147.2412,90.8447 L147.2412,133.0322 M126.9287,103.3447 L167.5537,103.3447 M147.2412,133.0322 L126.9287,156.4697 M147.2412,133.0322 L167.5537,156.4697" fill="none" style="stroke:#181818;stroke-width:0.7813;"/></g><g class="participant participant-tail" data-participant="Admin"><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="128.8574" x="78.125" y="1788.4796">Administrator</text><ellipse cx="147.2412" cy="1806.3965" fill="#E2E2F0" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.7813;"/><path d="M147.2412,1818.8965 L147.2412,1861.084 M126.9287,1831.3965 L167.5537,1831.3965 M147.2412,1861.084 L126.9287,1884.5215 M147.2412,1861.084 L167.5537,1884.5215" fill="none" style="stroke:#181818;stroke-width:0.7813;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="184.8053" x="493.8278" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="162.9303" x="504.7653" y="166.1163">PatientController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="184.8053" x="493.8278" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="162.9303" x="504.7653" y="1799.4171">PatientController</text></g><g class="participant participant-head" data-participant="QueryService"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="222.4884" x="854.4731" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="200.6134" x="865.4106" y="166.1163">PatientQueryService</text></g><g class="participant participant-tail" data-participant="QueryService"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="222.4884" x="854.4731" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="200.6134" x="865.4106" y="1799.4171">PatientQueryService</text></g><g class="participant participant-head" data-participant="MongoRepo"><rect fill="#E2E2F0" height="70.752" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="254.1046" x="1092.5865" y="110.9375"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="232.2296" x="1103.524" y="141.6779">PatientQueryRepository</text><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="205.484" x="1116.8968" y="166.1163">(Mongo Read Model)</text></g><g class="participant participant-tail" data-participant="MongoRepo"><rect fill="#E2E2F0" height="70.752" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="254.1046" x="1092.5865" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="232.2296" x="1103.524" y="1799.4171">PatientQueryRepository</text><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="205.484" x="1116.8968" y="1823.8556">(Mongo Read Model)</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="162.9196" x="1362.3161" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="141.0446" x="1373.2536" y="166.1163">PatientService</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="162.9196" x="1362.3161" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="141.0446" x="1373.2536" y="1799.4171">PatientService</text></g><g class="participant participant-head" data-participant="Repo"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="194.5358" x="1540.8607" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="172.6608" x="1551.7982" y="166.1163">PatientRepository</text></g><g class="participant participant-tail" data-participant="Repo"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="194.5358" x="1540.8607" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="172.6608" x="1551.7982" y="1799.4171">PatientRepository</text></g><g class="participant participant-head" data-participant="LocalCache"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="246.8307" x="1751.0216" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="224.9557" x="1761.9591" y="166.1163">PatientLocalRepository</text></g><g class="participant participant-tail" data-participant="LocalCache"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="246.8307" x="1751.0216" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="224.9557" x="1761.9591" y="1799.4171">PatientLocalRepository</text></g><g class="participant participant-head" data-participant="Peer"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="156.8527" x="2013.4773" y="135.376"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="134.9777" x="2024.4148" y="166.1163">Peer Instance</text></g><g class="participant participant-tail" data-participant="Peer"><rect fill="#E2E2F0" height="46.3135" rx="3.9063" ry="3.9063" style="stroke:#181818;stroke-width:0.7813;" width="156.8527" x="2013.4773" y="1768.6768"/><text fill="#000000" font-family="Arial" font-size="21.875" lengthAdjust="spacing" textLength="134.9777" x="2024.4148" y="1799.4171">Peer Instance</text></g><g><title>Administrator</title><rect fill="#FFFFFF" height="76.6357" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="198.877"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="445.9717"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="713.4644"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="1131.3965"/></g><g><title>Administrator</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="139.4287" y="1494.6411"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="259.5947" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="230.9448"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="267.4927" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="557.4341"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="180.5786" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="995.3857"/></g><g><title>PatientController</title><rect fill="#FFFFFF" height="296.3501" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="578.418" y="1242.8589"/></g><g><title>PatientQueryService</title><rect fill="#FFFFFF" height="170.459" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="957.9048" y="275.5127"/></g><g><title>PatientQueryService</title><rect fill="#FFFFFF" height="111.4624" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="957.9048" y="490.5396"/></g><g><title>PatientQueryRepository</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1211.8263" y="320.0806"/></g><g><title>PatientQueryRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1211.8263" y="490.5396"/></g><g><title>PatientService</title><rect fill="#FFFFFF" height="217.334" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1435.9634" y="824.9268"/></g><g><title>PatientService</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1435.9634" y="1175.9644"/></g><g><title>PatientRepository</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1630.3162" y="869.4946"/></g><g><title>PatientRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1630.3162" y="1175.9644"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="66.8945" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="646.5698"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="1086.8286"/></g><g><title>PatientLocalRepository</title><rect fill="#FFFFFF" height="44.5679" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="1866.6245" y="1450.0732"/></g><g><title>Peer Instance</title><rect fill="#FFFFFF" height="81.3232" style="stroke:#181818;stroke-width:1.5625;" width="15.625" x="2084.0912" y="1324.1821"/></g><g class="message" data-participant-1="Admin" data-participant-2="Controller"><polygon fill="#181818" points="559.668,224.6948,575.293,230.9448,559.668,237.1948,565.918,230.9448" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="155.0537" x2="569.043" y1="230.9448" y2="230.9448"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="159.2072" x="165.9912" y="223.5153">GET /patients/{id}</text></g><g class="message" data-participant-1="Controller" data-participant-2="QueryService"><polygon fill="#181818" points="939.1548,269.2627,954.7798,275.5127,939.1548,281.7627,945.4048,275.5127" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="594.043" x2="948.5298" y1="275.5127" y2="275.5127"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="334.1743" x="604.9805" y="268.0832">getPatientDetailsFromReadModel(id)</text></g><g class="message" data-participant-1="QueryService" data-participant-2="MongoRepo"><polygon fill="#181818" points="1193.0763,313.8306,1208.7013,320.0806,1193.0763,326.3306,1199.3263,320.0806" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="973.5298" x2="1202.4513" y1="320.0806" y2="320.0806"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="102.7328" x="984.4673" y="312.6511">findById(id)</text></g><path d="M15.625,343.5181 L109.642,343.5181 L109.642,353.7109 L94.017,369.3359 L15.625,369.3359 L15.625,343.5181" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.3438;"/><rect fill="none" height="1400.1587" style="stroke:#000000;stroke-width:2.3438;" width="2232.83" x="15.625" y="343.5181"/><text fill="#000000" font-family="Arial" font-size="20.3125" font-weight="bold" lengthAdjust="spacing" textLength="23.7045" x="39.0625" y="363.4689">alt</text><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="266.3727" x="133.0795" y="362.2025">[Found in MongoDB read model]</text><g class="message" data-participant-1="MongoRepo" data-participant-2="QueryService"><polygon fill="#181818" points="990.7173,395.1538,975.0923,401.4038,990.7173,407.6538,984.4673,401.4038" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="981.3423" x2="1218.0763" y1="401.4038" y2="401.4038"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="168.203" x="1000.0923" y="393.9743">PatientDetailsDTO</text></g><g class="message" data-participant-1="QueryService" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,439.7217,595.6055,445.9717,611.2305,452.2217,604.9805,445.9717" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="964.1548" y1="445.9717" y2="445.9717"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="168.203" x="620.6055" y="438.5422">PatientDetailsDTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="Admin"><polygon fill="#181818" points="164.4287,484.2896,148.8037,490.5396,164.4287,496.7896,158.1787,490.5396" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="155.0537" x2="584.668" y1="490.5396" y2="490.5396"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="381.0181" x="173.8037" y="483.11">200 OK + JSON (from Mongo read model)</text></g><line style="stroke:#000000;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="15.625" x2="2248.455" y1="504.6021" y2="504.6021"/><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="198.5374" x="23.4375" y="520.1614">[Not found in MongoDB]</text><g class="message" data-participant-1="MongoRepo" data-participant-2="QueryService"><polygon fill="#181818" points="990.7173,551.1841,975.0923,557.4341,990.7173,563.6841,984.4673,557.4341" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="981.3423" x2="1218.0763" y1="557.4341" y2="557.4341"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="68.8423" x="1000.0923" y="550.0046">(empty)</text></g><g class="message" data-participant-1="QueryService" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,595.752,595.6055,602.002,611.2305,608.252,604.9805,602.002" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="964.1548" y1="602.002" y2="602.002"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="98.2399" x="620.6055" y="594.5724">(not found)</text></g><g class="message" data-participant-1="Controller" data-participant-2="LocalCache"><polygon fill="#181818" points="1847.8745,640.3198,1863.4995,646.5698,1847.8745,652.8198,1854.1245,646.5698" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="594.043" x2="1857.2495" y1="646.5698" y2="646.5698"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="102.7328" x="604.9805" y="639.1403">findById(id)</text></g><line style="stroke:#000000;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="15.625" x2="2248.455" y1="660.6323" y2="660.6323"/><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="206.2752" x="23.4375" y="676.1917">[alt Found in local cache]</text><g class="message" data-participant-1="LocalCache" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,707.2144,595.6055,713.4644,611.2305,719.7144,604.9805,713.4644" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="1872.8745" y1="713.4644" y2="713.4644"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="168.203" x="620.6055" y="706.0349">PatientDetailsDTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="Admin"><polygon fill="#181818" points="164.4287,751.7822,148.8037,758.0322,164.4287,764.2822,158.1787,758.0322" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="155.0537" x2="576.8555" y1="758.0322" y2="758.0322"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="313.2668" x="173.8037" y="750.6027">200 OK + JSON (from local cache)</text></g><line style="stroke:#000000;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="15.625" x2="2248.455" y1="772.0947" y2="772.0947"/><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="157.5829" x="23.4375" y="787.6541">[Not in local cache]</text><g class="message" data-participant-1="Controller" data-participant-2="Service"><polygon fill="#181818" points="1417.2134,818.6768,1432.8384,824.9268,1417.2134,831.1768,1423.4634,824.9268" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="586.2305" x2="1426.5884" y1="824.9268" y2="824.9268"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="182.9018" x="597.168" y="817.4973">getPatientDetails(id)</text></g><g class="message" data-participant-1="Service" data-participant-2="Repo"><polygon fill="#181818" points="1611.5662,863.2446,1627.1912,869.4946,1611.5662,875.7446,1617.8162,869.4946" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="1451.5884" x2="1620.9412" y1="869.4946" y2="869.4946"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="102.7328" x="1462.5259" y="862.0651">findById(id)</text></g><path d="M31.25,892.9321 L125.267,892.9321 L125.267,903.125 L109.642,918.75 L31.25,918.75 L31.25,892.9321" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.3438;"/><rect fill="none" height="839.8071" style="stroke:#000000;stroke-width:2.3438;" width="2201.58" x="31.25" y="892.9321"/><text fill="#000000" font-family="Arial" font-size="20.3125" font-weight="bold" lengthAdjust="spacing" textLength="23.7045" x="54.6875" y="912.883">alt</text><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="154.6791" x="148.7045" y="911.6165">[Found in local H2]</text><g class="message" data-participant-1="Repo" data-participant-2="Service"><polygon fill="#181818" points="1468.7759,944.5679,1453.1509,950.8179,1468.7759,957.0679,1462.5259,950.8179" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="1459.4009" x2="1636.5662" y1="950.8179" y2="950.8179"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="119.6831" x="1478.1509" y="943.3884">Patient Entity</text></g><g class="message" data-participant-1="Service" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,989.1357,595.6055,995.3857,611.2305,1001.6357,604.9805,995.3857" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="1434.4009" y1="995.3857" y2="995.3857"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="168.203" x="620.6055" y="987.9562">PatientDetailsDTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="LocalCache"><polygon fill="#181818" points="1847.8745,1080.5786,1863.4995,1086.8286,1847.8745,1093.0786,1854.1245,1086.8286" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="594.043" x2="1857.2495" y1="1086.8286" y2="1086.8286"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="84.6718" x="604.9805" y="1079.3991">save(dto)</text></g><g class="message" data-participant-1="LocalCache" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,1125.1465,595.6055,1131.3965,611.2305,1137.6465,604.9805,1131.3965" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="1872.8745" y1="1131.3965" y2="1131.3965"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="79.0283" x="620.6055" y="1123.967">(cached)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Admin"><polygon fill="#181818" points="164.4287,1169.7144,148.8037,1175.9644,164.4287,1182.2144,158.1787,1175.9644" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="155.0537" x2="584.668" y1="1175.9644" y2="1175.9644"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="285.0296" x="173.8037" y="1168.5349">200 OK + JSON (from local H2)</text></g><line style="stroke:#000000;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="31.25" x2="2232.83" y1="1190.0269" y2="1190.0269"/><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="183.3138" x="39.0625" y="1205.5862">[Not found in local H2]</text><g class="message" data-participant-1="Repo" data-participant-2="Service"><polygon fill="#181818" points="1460.9634,1236.6089,1445.3384,1242.8589,1460.9634,1249.1089,1454.7134,1242.8589" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="1451.5884" x2="1636.5662" y1="1242.8589" y2="1242.8589"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="68.8423" x="1470.3384" y="1235.4294">(empty)</text></g><path d="M46.875,1266.2964 L160.054,1266.2964 L160.054,1276.4893 L144.429,1292.1143 L46.875,1292.1143 L46.875,1266.2964" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.3438;"/><rect fill="none" height="455.5054" style="stroke:#000000;stroke-width:2.3438;" width="2170.33" x="46.875" y="1266.2964"/><text fill="#000000" font-family="Arial" font-size="20.3125" font-weight="bold" lengthAdjust="spacing" textLength="42.8665" x="70.3125" y="1286.2473">loop</text><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="343.8004" x="183.4915" y="1284.9808">[for each configured peer (excluding self)]</text><g class="message" data-participant-1="Controller" data-participant-2="Peer"><polygon fill="#181818" points="2065.3412,1317.9321,2080.9662,1324.1821,2065.3412,1330.4321,2071.5912,1324.1821" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="594.043" x2="2074.7162" y1="1324.1821" y2="1324.1821"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="217.8833" x="604.9805" y="1316.7526">HTTP GET /patients/{id}</text></g><path d="M62.5,1347.6196 L156.517,1347.6196 L156.517,1357.8125 L140.892,1373.4375 L62.5,1373.4375 L62.5,1347.6196" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.3438;"/><rect fill="none" height="318.6768" style="stroke:#000000;stroke-width:2.3438;" width="2139.08" x="62.5" y="1347.6196"/><text fill="#000000" font-family="Arial" font-size="20.3125" font-weight="bold" lengthAdjust="spacing" textLength="23.7045" x="85.9375" y="1367.5705">alt</text><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="173.822" x="179.9545" y="1366.304">[Peer returns patient]</text><g class="message" data-participant-1="Peer" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,1399.2554,595.6055,1405.5054,611.2305,1411.7554,604.9805,1405.5054" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="2090.3412" y1="1405.5054" y2="1405.5054"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="260.2341" x="620.6055" y="1398.0759">200 OK + PatientDetailsDTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="LocalCache"><polygon fill="#181818" points="1847.8745,1443.8232,1863.4995,1450.0732,1847.8745,1456.3232,1854.1245,1450.0732" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;" x1="594.043" x2="1857.2495" y1="1450.0732" y2="1450.0732"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="84.6718" x="604.9805" y="1442.6437">save(dto)</text></g><g class="message" data-participant-1="LocalCache" data-participant-2="Controller"><polygon fill="#181818" points="611.2305,1488.3911,595.6055,1494.6411,611.2305,1500.8911,604.9805,1494.6411" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="601.8555" x2="1872.8745" y1="1494.6411" y2="1494.6411"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="79.0283" x="620.6055" y="1487.2116">(cached)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Admin"><polygon fill="#181818" points="164.4287,1532.959,148.8037,1539.209,164.4287,1545.459,158.1787,1539.209" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="155.0537" x2="584.668" y1="1539.209" y2="1539.209"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="252.2995" x="173.8037" y="1531.7795">200 OK + JSON (from peer)</text></g><path d="M478.2028,1562.6465 L602.7184,1562.6465 L602.7184,1572.8394 L587.0934,1588.4644 L478.2028,1588.4644 L478.2028,1562.6465" fill="#EEEEEE" style="stroke:#000000;stroke-width:2.3438;"/><rect fill="none" height="92.7124" style="stroke:#000000;stroke-width:2.3438;" width="1707.7522" x="478.2028" y="1562.6465"/><text fill="#000000" font-family="Arial" font-size="20.3125" font-weight="bold" lengthAdjust="spacing" textLength="54.203" x="501.6403" y="1582.5974">break</text><line style="stroke:#000000;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="478.2028" x2="2185.955" y1="1590.0269" y2="1590.0269"/><text fill="#000000" font-family="Arial" font-size="17.1875" font-weight="bold" lengthAdjust="spacing" textLength="136.6188" x="486.0153" y="1605.5862">[Peer 404 / error]</text><g class="message" data-participant-1="Peer" data-participant-2="Controller"><polygon fill="#181818" points="603.418,1636.6089,587.793,1642.8589,603.418,1649.1089,597.168,1642.8589" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="594.043" x2="2090.3412" y1="1642.8589" y2="1642.8589"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="194.1986" x="612.793" y="1635.4294">404 Not Found / error</text></g><g class="message" data-participant-1="Controller" data-participant-2="Admin"><polygon fill="#181818" points="164.4287,1703.0518,148.8037,1709.3018,164.4287,1715.5518,158.1787,1709.3018" style="stroke:#181818;stroke-width:1.5625;"/><line style="stroke:#181818;stroke-width:1.5625;stroke-dasharray:3.125,3.125;" x1="155.0537" x2="584.668" y1="1709.3018" y2="1709.3018"/><text fill="#000000" font-family="Arial" font-size="20.3125" lengthAdjust="spacing" textLength="401.4893" x="173.8037" y="1701.8723">404 Not Found { "error": "Patient not found" }</text></g><!--SRC=[hLVDJXin4BxlKunoOLS84L9woG4921JQybEIOozcFGaM6tlhTMWZXDI7w1FsIMfxWzVx3r4j0LfxPhxnD_EDp0wS7kuUmD_VVs0w6SCdL71B54EkO8AAi2I3y9Wk6O-2x97nb4Yo19eoEFWuz7Qo1qB5JyONC2T9Xjx91ETabQXpmTKrMI8SIqQI89WnbQ367iCKVwoGnmWJHXR6OwypYu34IaYmNonJafWlakKRWSPKB6OfqPw3JOXJ3Ir5ag0S6CFYiz7wsmhbUehoYSLexVsDTeyxJ4N6T2xhxpoy4dmXu0u9XIj1CObi8Bjhx1gZ-91TQ0MGDMsDzrN49AaOsxrJ4ZzKGoDAkEIP8doJWTanJBCded33hVqDUqSUWw0xvcm6-scEcUq_C_fI-7bK1vwJ3k6JgeCiK6tItfJxN8gbuS_I5p8Q1HGhwHGmfGgL8cianxg6cJDEJzQNr0PqxaLTIABWNAmu1NrHkpqv0MdAk3Hv1A1N4M-lVe_o9IQp6-lYfLvWcODohbLcUuELxbrXnvZwbElWUVt6C1eEuUOBxCBdwSqrX7DDTPwNTzMeYkMLidAIuw5MFLmB1VCAVuqyDzwWbzqGbwbQH-sSjcNRpNF8NzEEEXcsXpimYc2coq8an4P9a1XHGQZhaq4gyOdfASUrhxXNZ8eigfNYoDDXjIcDhKFtv0fW2OPIX-R8ySOWNrxeDpPKvSeUQ4DBlREjl0oZ9h0YiEkVbdirP-YET-23Ayl9H3ToGc8ck0wJ1zDLWVAWRRpE4NJC95UWTccuOtVuYjPZxmsifbbL2-j6YDsjDyN5o9sQvHHL6rLmnXLJwvArbsi9fvHeVtErgR41fbgJ7ibav0b3gaHKScZMJR6wf17QRgDHMuBzgjXA6HUZLiH-qihuzG7iEg5SpKxI6nh5dxflwP26ifRE4o5IdQG4RVS0iU1pjbX9f92QLqY8l-9aHSrBCiDa7lLsKRrLx6jc31UpsMtJwwJgx03icwTsghLb0qfKAydrYC-3rGpDieQrtdBbRv-_BVmrPhILDjwgaQsrihLcjj2EQPHUz8vswTIHl-xrW-YnTcALPajzE3o4VK0fXNn7FnWl8zHyP7VvzxK2SXfKlzy_dihvFCF09ZGOktybm3sG1l3ot-RL9dVpr_py0m00]--></g></svg>